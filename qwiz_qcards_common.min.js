var document_qwiz_declined_login_b="not ready",document_qwiz_user_logged_in_b="not ready",document_qwiz_wp_user_session_id,document_qwiz_maker_privileges=!1,qjax_bypass="not ready",qwiz_wp_site_url,document_qwiz_remember_f=!1,document_active_qwiz_qdeck="",document_qwiz_username="",document_qwiz_independent_taker_f="",document_qwiz_email="",default_document_qwiz_email_confirm=1,document_qwiz_email_confirm=default_document_qwiz_email_confirm,$dialog_current_password="",$dialog_assign_to_classes="",document_qwiz_class_id="",document_qwiz_school_id=0,document_qwiz_session_id,document_qwiz_login_timeout,document_qwiz_team_b=!1,document_qwiz_mobile_enabled="Always",document_qwiz_mobile="",document_qwiz_bubblebar_enabled_b=!0,document_qwiz_force_mobile_f=!1,document_qwiz_qdeck_maker_ids={},document_qwiz_pay_registration_date_unix=0,document_qwiz_not_logged_in_alerted=!1,document_qwiz_preview_i_qwiz,document_qwiz_preview_i_deck,document_qwiz_good_through_date,document_qwiz_good_through_date_ok,document_qwiz_subscription_id,document_qwiz_login_alt_free_trial,document_qwiz_immediate_payment;qwiz_qcards_common={};var qwiz_qcards_common_f=function(){var qqc=this,qqcname="qwiz_qcards_common",$=jQuery,init_enter_intercept_f,jjax_script_no=0,head="not ready",server_loc="not ready",secure_server_loc,qwiz_ajaxurl="not ready",plugin_url="",icon_expand_src="not ready",icon_collapse_src,maker_specific_n_qs_by_unit_topic,use_dataset_options_html={},use_dataset_options_display_name={},progress_bars_leaderboard={},refresh_leaderboard_timeout={},dataset_questions_countdown_timeout={},pay_qwiz_qdeck_,pay_i_qwiz_deck,payment_received_f=!1,register_taker_global_reg_code_ok_f=!1,register_taker_display_pay_screen=!1,register_taker_global_username,register_taker_global_first_name,register_taker_global_last_name,register_taker_global_sha3_password,register_taker_global_username_unique_f,register_taker_global_email_unique_f,register_taker_global_reg_code_maker_id="",register_taker_global_reg_code_school_id="",register_taker_global_reg_code_class_id="",register_taker_global_reg_code_class_name="",register_taker_global_reg_code_school_name="",register_taker_global_in_process_b=!1,provide_feedback_html={},debug=[];function qjax_callback(js){debug[0]&&console.log("[qjax_callback] js:",js),js&&(js=js.replace(/var /g,""),eval(js))}function check_maker_session_id(){var e=$.cookie("maker_session_id");if(debug[0]&&console.log("[check_maker_session_id] cookie_session_id:",e),e){var t={cookie_session_id:e,callback:"maker_session_id_ok_or_no"};qqc.qjax("qwiz_qcards_common",0,"","check_maker_session_id",t)}else qqc.maker_session_id_ok_or_no()}debug[0]=!1,debug[5]=!1,debug[7]=!1,debug[9]=!1,debug[10]=!1,debug[11]=!1,debug[12]=!1,$(document).ready((function(){qqc.qdebug(debug),$.cookie&&(document_qwiz_declined_login_b=$.cookie("qwiz_declined_login")),head=document.getElementsByTagName("head")[0],debug[0]&&console.log("[qwiz_qcards_common ready] head:",head);var e=$("a.unit.unit_button"),t=e.html();if(t&&"start course"==t.toLowerCase()){var s=function(){$("div.qwiz_wrapper_fallback").is(":visible")&&qwiz_.qwiz_init(),$("div.qdeck_wrapper_fallback").is(":visible")&&qcard_.qdeck_init()};e.click((function(){setTimeout(s,3e3)}))}})),this.jjax=function(e,t,s,i,a){return qqc.qjax(e,t,s,i,a),!1},this.qjax=function(e,t,s,i,a){if(a||(a={}),a.qname=e,a.i_qwiz=t,a.qrecord_id=s,a.dest=i,a.js_f=1,void 0!==document_qwiz_session_id&&(a.qwiz_session_id=document_qwiz_session_id),debug[0]&&console.log("[qjax] qwizdata:",a),"not ready"==qjax_bypass&&(qjax_bypass=qqc.get_qwiz_param("qjax_bypass","")),qwiz_wp_site_url=qqc.get_qwiz_param("wp_site_url",""),qjax_bypass){var r=qwiz_wp_site_url+"/admin/"+i;debug[0]&&console.log("[qjax] url:",r),$.ajax({type:"POST",url:r,data:a,error:function(s,i,_){var n;console.log("[qjax] XMLHttpRequest:",s,", statusText:",i,", errorThrown:",_),console.log("[qjax] url:",r);var o=s.readyState;-1!=r.indexOf("record")?("qwiz_"==e?$("span.response_recorded-qwiz"+t).hide():$("span.response_recorded-qdeck"+t).hide(),n=0==o?a.secure_f?"Sorry, unable to record your response.  Please try again.  Perhaps check your Internet connection?":"Sorry, unable to record your response.  Perhaps check your Internet connection?":a.secure_f?"Sorry, unable to record your response.  Please try again.  If the problem reoccurs, contact support@qwizcards.com":"Sorry, unable to record your response.  If the problem reoccurs, please contact support@qwizcards.com"):n=0==o?"Sorry, unable to process request.  Perhaps check your Internet connection?":"Sorry, unable to process request.  If the problem persists, please contact support@qwizcards.com",alert(n)},success:qjax_callback})}else{"not ready"==qwiz_ajaxurl&&(qwiz_ajaxurl=qqc.get_qwiz_param("ajaxurl",""));var _={action:"qjax"};_.qwizdata=a,$.ajax({type:"POST",url:qwiz_ajaxurl,data:_,success:qjax_callback})}},this.check_session_id=function(e){var t=$.cookie("qwiz_session_id");if(debug[0]&&console.log("[check_session_id] cookie_session_id:",t),t){document_qwiz_session_id=t;var s={cookie_session_id:t};qqc.qjax("",e,"","check_session_id",s)}else document_qwiz_user_logged_in_b=!1},this.maker_session_id_ok_or_no=function(){if(!qqc.maker_logged_in_b){setTimeout((function(){$("a.teacher_subscriptions").each((function(){var e=$(this),t=e.data("query_string");debug[0]&&console.log("[maker_session_id_ok_or_no]: query_string:",t);const s=qqc.get_qwiz_param("secure_server_loc","https://qwizcards.com/admin")+"/maker_login_register"+t;e.attr("href",s)}))}),250)}},this.set_user_menus_and_icons=function(e,t){var s="",i="black";if(!0===document_qwiz_user_logged_in_b){var a=document_qwiz_maker_privileges?"Teacher logged in as student":"Logged in as";if(s+='<div style="text-align: right;">'+qqc.T(a)+" <strong>"+document_qwiz_username+"</strong></div>",document_qwiz_maker_privileges&&!qwiz_.preview_i_qwiz_plus1&&!qcard_.preview_ideck_plus1){const e="javascript: qwiz_qcards_common.do_preview (i_qwiz, 'qname')";s+='<div class="teacher_preview_qname"><table class="teacher_preview"><tr><td><b>'+qqc.T("Teachers only:")+'&ensp;</b></td><td style="padding-bottom: 5px;"><a href="'+e+'" title="View this quiz/deck in expanded, all-question display">'+qqc.T("preview this")+' quiz_flashcard_deck</a></td></tr><tr><td></td><td><a href="javascript: qwiz_qcards_common.assign_to_classes (\'qname\', i_qwiz)" title="Assign this quiz_flashcard_deck to your classes">'+qqc.T("assign to classes")+"</a></td></tr></table></div>"}document_qwiz_independent_taker_f?s+='<div><a href="javascript: qname.hide_menu_and_display_login (i_qwiz, false, \'enroll\')" title="You are currently registered as an independent student.  If you have a registration code you can join a class">'+qqc.T("Enroll in a school/class")+"</a></div>":document_qwiz_wp_user_session_id||(s+='<div><a href="javascript: qname.hide_menu_and_display_login (i_qwiz, true)">'+qqc.T("Add team member")+"</a></div>"),"not ready"==server_loc&&(server_loc=qqc.get_qwiz_param("server_loc","http://qwizcards.com/admin")),s+='<div><a href="'+server_loc+"/index?student_view=1&time="+document_qwiz_session_id+'" target="_blank">'+qqc.T("My scores")+"</a></div>",s+="<div><nobr><a href=\"javascript: qname.hide_menu_and_display_login (i_qwiz, false, 'progress_bars')\">"+qqc.T("My progress")+"</a>&emsp;",s+="leaderboard",s+="</nobr></div>",document_qwiz_wp_user_session_id||(s+='<div><a href="'+server_loc+"/my_account?time="+document_qwiz_session_id+'" target="_blank" title="'+qqc.T("View/edit login name, password, ...")+'">'+qqc.T("My account - settings")+"</a></div>"),s+='<div><a href="javascript: qname.hide_menu_and_display_login (i_qwiz, false, \'feedback\')" title="'+qqc.T("Report errors/bugs, comment, make suggestions...")+'">'+qqc.T("Feedback")+"</a></div>",document_qwiz_wp_user_session_id||(s+="<div>"+qqc.T("Not")+" "+document_qwiz_username+'? <a href="javascript: '+qqcname+'.sign_out ()">'+qqc.T("Sign out")+"</a></div>"),i=document_qwiz_maker_privileges?"#00b8ff":"#20a020",$("div.qwiz-usermenu_icon").removeClass("qwiz-icon-bounce")}else document_qwiz_wp_user_session_id?s+="<b>Authentication expired.&nbsp;Please re-load this page to record your work</b>":(s+='<br /><div><nobr><a href="javascript: qname.hide_menu_and_display_login (i_qwiz)"><strong>'+qqc.T("Log in")+"</strong> "+qqc.T("to record/get credit")+"</a></nobr></div>",s+='<div> <span class="qwiz-remember" title="'+qqc.T("Skip login in the future")+'"><label class="qwiz_label"><span class="qwiz-remember"><input type="checkbox" /> '+qqc.T("Remember")+'</span></label></span> &nbsp;<a href="javascript: qname.icon_no_login (i_qwiz)"><strong>'+qqc.T("No thanks")+"</strong></a></div>",s+="leaderboard","not ready"==document_qwiz_declined_login_b&&(document_qwiz_declined_login_b=$.cookie("qwiz_declined_login")),e||document_qwiz_declined_login_b||($("div.qwiz-usermenu_icon_no_intro").addClass("qwiz-icon-bounce"),$("div.qwiz-usermenu_icon").addClass("qwiz-icon-bounce")));const r="<span qwiz_leaderboard_link><a href=\"javascript: qwiz_.hide_menu_and_display_login (i_qwiz, false, 'leaderboard')\">"+qqc.T("Fastest finish times")+"</a></span>";var _=s.replace(/qname/g,"qwiz_").replace(/quiz_flashcard_deck/g,"quiz");$("div.qwiz-usermenu").each((function(){const e=$(this).attr("id").substr(13);var t="";qwiz_.get_qwizdata(e,"qwiz_timer")&&(t=r),$(this).html(_.replace("leaderboard",t).replace(/i_qwiz/g,e))}));var n=s.replace(/qname/g,"qcard_").replace(/quiz_flashcard_deck/g,"deck").replace("leaderboard","");$("div.qdeck-usermenu").each((function(){const e=$(this).attr("id").substr(14);$(this).html(n.replace(/i_qwiz/g,e))})),$("div.qwiz-usermenu_icon").css({display:"block",color:i}),$qscores=$("span.qscores"),$qscores.length&&qqc.set_qscore_menus($qscores)};var do_preview_form=!1,assign_to_classes_data;function deassign_class_from_quiz(e){debug&&(console.log("[deassign_class_from_quiz] e.params.data:",e.params.data),console.log("[deassign_class_from_quiz] e.params.data.element.value:",e.params.data.element.value));const t={class_id:e.params.data.element.value,class_name:e.params.data.element.text,i_row:0,callback:"qwiz_qcards_common.assign_to_classes_updated"};qqc.qjax("",0,assign_to_classes_data.qrecord_id,"delete_class_from_qwiz_qdeck",t)}function add_class_to_qwiz_qdeck(e){debug&&(console.log("[add_class_to_qwiz_qdeck] e.params.data:",e.params.data),console.log("[add_class_to_qwiz_qdeck] e.params.data.element.value:",e.params.data.element.value));const t={class_id:e.params.data.element.value,class_name:e.params.data.element.text,i_row:0,callback:"qwiz_qcards_common.assign_to_classes_updated"};qqc.qjax("",0,assign_to_classes_data.qrecord_id,"add_class_to_qwiz_qdeck",t)}function set_pay_unlock_menu(e,t,s,i,a,r,_,n,o){var c,d,l,u="";"qwiz_"==e?(c="quiz",d="qwiz",l="qwiz_"):(c="flashcard deck",d="qdeck",l="qcard_"),u+='<div class="pay_preview_status">'+i+"</div>";var p=!1;if(!0===document_qwiz_user_logged_in_b){if("paid"!=get_qwizdeckdata(e,t,"pay_quiz_ok"))if(r.length){u+=a+r.join("");var h=_?"Sign up":"Pay now";u+='<a href="javascript: '+e+".hide_menu_and_display_login ("+t+", false, 'pay', '', 0, '"+h+'\')" class="qwiz_pay_unlock_menu_pay_now">'+h+"</a>"}else u+=1==document_qwiz_school_id?"Please contact the maker of this "+c+": they need to provide an individual-student payment option for you":"Please talk to your teacher: they need to provide access to this "+c+" for you"}else if(!s){var g="?url="+encodeURIComponent(qqc.get_qwiz_param("url","./"))+"&qname="+l+"&i_qwiz="+t,q=(qqc.get_qwiz_param("secure_server_loc","https://qwizcards.com/admin"),"Please register so you can get credited for your payment");if(u+="<div><b>Students in a teacher&rsquo;s class</b>: Use your teacher&rsquo;s registration code to <a href=\"javascript: qwiz_qcards_common.pay_unlock_menu_display_login ('"+e+"', "+t+", 'register', '"+btoa(q)+'\')" class="qwiz_login">'+qqc.T("register")+"</a>. ",r.length&&(u+="<br />"+a+r.join(""),!_)){u+=`<a href="javascript: qwiz_qcards_common.pay_unlock_menu_display_login ('${e}', ${t}, 'register', '${btoa(q)}')" class="qwiz_login qwiz_pay_unlock_menu_pay_now">\n                         Pay now\n                       </a>`}if(u+="</div>",n.length&&(u+="<div><b>Teachers</b>: "+n.join("<br />"),o)){qqc.maker_logged_in_b||(p=!0);u+='<br /><a href="'+("javascript: "+e+".hide_menu_and_display_login ("+t+", false, 'maker_pay')")+'" class="teacher_subscriptions qwiz_login" data-query_string="'+g+'" target="_blank">Teacher subscriptions</a>'}u+="</div>"}return $("div#pay_unlock_menu-"+d+t).html(u),p}this.do_preview=function(e,t){if(!do_preview_form){var s=[];s.push('<form name="do_preview" target="_blank">'),s.push("</form>"),$("body").append(s.join("\n")),do_preview_form=!0}const i="qwiz_"==t?"qwiz":"deck";$.cookie(i+"_preview",e,{path:"/"}),$.cookie("qwiz_preview_username",document_qwiz_username,{path:"/"});const a=document.forms.do_preview,r=document.location.href;a.action=r,a.submit()},this.assign_to_classes=function(e,t){var s;s="qwiz_"==e?$("div#qwiz"+t).attr("qrecord_id"):$("div.qcard_card-qdeck"+t+" div.qcard-front").attr("qrecord_id");qqc.qjax(e,t,s,"assign_to_classes",{modal:1})},this.dialog_assign_to_classes=function(e){if(debug[0]&&console.log("[dialog_assign_to_classes] data:",e),e.errmsg)return void alert(e.errmsg);if(assign_to_classes_data=e,!$dialog_assign_to_classes){var t=[];t.push('<div id="dialog_assign_to_classes" title="Assign quiz/flashcard deck to classes">'),t.push('<div id="assign_to_classes_feedback_msg">'),t.push("&nbsp;"),t.push("</div>"),t.push('<h3 class="assign_to_classes qwiz_display_none">'),t.push('Assign <span id="assign_to_classes_quiz_flashcard_deck"></span> to classes'),t.push("</h3>"),t.push('<div id="assign_to_classes_select">'),t.push("</div>"),t.push("<br />"),t.push('<h3 class="assign_to_classes qwiz_display_none">'),t.push('Set <span id="assign_to_classes_assignment_due"></span> date'),t.push("</h3>"),t.push('<input id="assign_to_classes_assignment_date" class="qwiz_display_none" type="date" onchange="qwiz_qcards_common.update_assignment_date (this)" />'),t.push("</div>"),$("body").append(t.join("\n")),$dialog_assign_to_classes=$("div#dialog_assign_to_classes").dialog({autoOpen:!1,width:600,height:600,modal:!0,resizable:!1,buttons:{Close:function(){$dialog_assign_to_classes.dialog("close")}}})}const s={class_id:"all",maker_id:e.maker_id,callback:"qwiz_qcards_common.assign_to_classes_set_quizzes_decks"};qqc.qjax(e.qname,0,e.qrecord_id,"get_quizzes_decks",s)},this.assign_to_classes_set_quizzes_decks=function(e){debug[0]&&console.log("[assign_to_classes_set_quizzes_decks] data:",e);const t="qwiz_"==assign_to_classes_data.qname?"quiz":"flashcard deck";var s=[];if(0==e.class_ids_assigned_to_qwiz.length){const e=assign_to_classes_data.qrecord_id.replace(/sciencemusicvideosMeister1961-/,"");s.push("<b>Sorry, this "+t+", &ldquo;"+e+"&rdquo;, has not been made available to you for use in your classes."),s.push("<br />"),s.push("<br />"),s.push("You will have to contact the "+t+" owner/creator and ask them to provide it to you.</b>"),$("div#assign_to_classes_select").html(s.join("\n"))}else{s.push('<select id="class_select" multiple="multiple">');const n=assign_to_classes_data.class_ids,o=assign_to_classes_data.class_names,c=assign_to_classes_data.deleted_fs,d=n.length;for(var i=!1,a=0;a<d;a++)if(!c[a]){var r="";-1!=e.class_ids_assigned_to_qwiz[0].indexOf(n[a])&&(r=" selected",i=!0),s.push('<option value="'+n[a]+'"'+r+">"),s.push(o[a]),s.push("</option>")}s.push("</select>"),i&&(s.push("<br />"),s.push('<span style="font-size: 8pt; color: gray;">'),s.push("Click in the box for options dropdown"),s.push("</span>")),$("div#assign_to_classes_select").html(s.join("\n")),$("h3.assign_to_classes").removeClass("qwiz_display_none"),$("span#assign_to_classes_quiz_flashcard_deck").html(t+" &ldquo;"+e.display_names[0]+"&rdquo;");var _=$("select#class_select");_.select2({placeholder:"Select...",width:"250px"}),_.on("select2:unselect",deassign_class_from_quiz),_.on("select2:select",add_class_to_qwiz_qdeck);const l=e.assignment_due?"due":"assignment";if($("span#assign_to_classes_assignment_due").html(l),$("input#assign_to_classes_assignment_date").removeClass("qwiz_display_none"),void 0!==e.assignment_dates[0]){const t=DateFormat.format.date(1e3*e.assignment_dates[0],"yyyy-MM-dd");$("input#assign_to_classes_assignment_date").val(t)}}$dialog_assign_to_classes.dialog("open")},this.update_assignment_date=function(e){var t=e.value;if(!t)return void $("div#assign_to_classes_feedback_msg").html('<span class="qwiz_errmsg">Please enter a valid date</span>');t=Date.parse(t+"T00:00")/1e3;const s={qrecord_ids:[assign_to_classes_data.qrecord_id],field:"assignment_date",value:t,callback:"qwiz_qcards_common.assign_to_classes_updated"};qqc.qjax("",0,assign_to_classes_data.qrecord_id,"update_quiz_deck",s)},this.assign_to_classes_updated=function(e){var t,s=DateFormat.format.date((new Date).getTime(),"h:mm:ss");t=e.affected_rows>=1?"Database updated "+s:'<span class="qwiz_red">Sorry, unable to update database</span>',$("div#assign_to_classes_feedback_msg").html(t)},this.request_assign_to_class=function(e){var t,s,i;e?(t="qwiz_",s=qwiz_.assign_to_class_i_qwiz,i=qwiz_.assign_to_class_qrecord_id):(t="qcard_",s=qcard_.assign_to_class_i_deck,i=qcard_.assign_to_class_qrecord_id,document_qwiz_qdeck_maker_ids["qdeck"+s]);const a=document_qwiz_school_id,r=document_qwiz_taker_id,_=window.location.href,n={taker_username:document_qwiz_username,school_id:a,taker_id:r,page_url:_};plugin_url||(plugin_url=qqc.get_qwiz_param("url","./"));const o='<img src="'+plugin_url+'images/spinner16x16.gif" />';$("div#"+t+"request_assign_to_class_feedback").html(o),qqc.qjax(t,s,i,"request_assign_to_class",n)},this.do_not_show_assign_to_class=function(e){const t=document_qwiz_username+"do_not_show_assign_to_class";if(e.checked){const e={expires:7};$.cookie(t,1,e)}else $.removeCookie(t)},this.pay_unlock_menu_display_login=function(e,t,s,i){var a,r;"qwiz_"==e?(a="qwiz",r=qwiz_):(a="qdeck",r=qcard_);var _=$("div.qwiz_icon_and_menu_container."+a+t);_.css({"z-index":"-1"}),"free_trial"==s&&(document_qwiz_login_alt_free_trial=!0),r.display_login(t,!1,s,atob(i),1);setTimeout((function(){_.css({"z-index":""})}),100)},this.sign_out=function(e,t){var s={session_id:document_qwiz_session_id,table:"session_id"};qqc.qjax("",-1,"","delete_session_id",s),$.removeCookie("qwiz_session_id",{path:"/"}),document_qwiz_user_logged_in_b=!1,document_qwiz_maker_privileges=!1,document_qwiz_session_id="",document_qwiz_email="",document_qwiz_email_confirm=default_document_qwiz_email_confirm,qqc.set_user_menus_and_icons(!e,t),qwiz_&&qwiz_.any_pay_quiz_f&&qwiz_.pay_lock_settings(),qcard_&&qcard_.any_pay_deck_f&&qcard_.pay_lock_settings(),document_qwiz_pay_registration_date_unix=0},this.usermenu_pay=function(e,t){"qwiz_"==e?$("div.qwiz-progress-container.qwiz"+t).find("a.qwiz_pay_unlock_menu_pay_now")[0].click():$("div#qcard_progress-qdeck"+t).find("a.qwiz_pay_unlock_menu_pay_now")[0].click()},this.set_qscore_menus=function(e){var t;"not ready"==server_loc&&(server_loc=qqc.get_qwiz_param("server_loc","http://qwizcards.com/admin"),secure_server_loc=qqc.get_qwiz_param("secure_server_loc","https://host359.hostmonster.com/~whereisq/qwiz/admin")),!0===document_qwiz_user_logged_in_b?(t='<a href="'+secure_server_loc+"/index.php?student_view=1&time="+document_qwiz_session_id+'" target="_blank">',t+=qqc.T("View scores")):(t='<a href="'+secure_server_loc+'/student_login.php" target="_blank">',t+=qqc.T("Login/View scores")),t+="</a>",e.html(t)},this.create_progress_bars=function(e,t,s,i){progress_bars_leaderboard[e+s]=i,plugin_url||(plugin_url=qqc.get_qwiz_param("url","./"));var a='<img src="'+(plugin_url+"images/spinner40x40.gif")+'" class="qwiz-center" style="margin-top: 100px;" />';e&&qqc.$get_login_div(e,s).html(a).show();if(!0!==document_qwiz_user_logged_in_b){var r={not_logged_in_f:1,qname:e,i_qwiz_qdeck:s,qrecord_id:t[s].qrecord_id};return qqc.create_progress_bars3(r),!1}if(t[s].record_start_b&&!0===document_qwiz_user_logged_in_b){t[s].record_start_b=!1;var _=(new Date).getTime()/1e3,n=(r={qrecord_id_ok:t[s].qrecord_id_ok,type:"start",now_sec:_,callback:"create_progress_bars2"},"qwiz_"==e?"record_response_v3":"record_qcard_v2");qqc.qjax(e,s,t[s].qrecord_id,n,r)}else qqc.create_progress_bars2(e,s,t[s].qrecord_id)},this.create_progress_bars2=function(e,t,s){document_qwiz_independent_taker_f&&(document_qwiz_class_id="independent_student");const i=get_qwizdeckdata(e,t,"use_dataset");if(i)get_dataset_units_topics(e,t,s,i,"create_progress_bars3");else{var a,r;if("qwiz_"==e)r=qwiz_.get_qwizdata(t,"n_questions"),a=qwiz_.get_qwizdata(t,"n_correct");else a=(r=qcard_.get_deckdata(t,"n_cards"))-qcard_.get_deckdata(t,"n_to_go");var _={qname:e,i_qwiz_qdeck:t,qrecord_id:s,units:[""],n_correct_by_unit_topic:[a],n_questions_by_unit_topic:[r]};qqc.create_progress_bars3(_)}};var leaderboard_refresh_sec=0,update_email_data,enroll_reg_code_ok_f,enroll_reg_code_school_id,enroll_reg_code_school_name,enroll_reg_code_class_id,enroll_reg_code_class_name,global_data_urls,global_blob_urls,number_word,ordinal_words;function get_dataset_units_topics(e,t,s,i,a){var r="";void 0!==document_qwiz_session_id&&(r=document_qwiz_session_id);var _={qname:e,i_qwiz_qdeck:t,dataset:i,qwiz_session_id:r};a&&(_.callback=a),qqc.qjax(e,t,s,"get_dataset_units_topics",_)}function resize_feedback_images(e){$(e).find("img").each((function(){if(!this.qwiz_sizing){var e,t=$(this),s=parseInt(t.parents("div.qwiz-provide_feedback").width()),i=parseInt(t.width());debug[0]&&console.log("[resize_feedback_images] img_width:",i,", container_width:",s),e=i==s?1:1/window.devicePixelRatio;var a=parseInt(i*e),r=parseInt(t.height()*e);t.css({cssText:"border:  1px solid gray !important",width:a+"px",height:r+"px",margin:"0 5px 5px 0",float:"left"}),this.qwiz_sizing=1}}))}function submit_feedback2(e,t,s,i,a){if(a){debug[0]&&console.log("[submit_feedback2] global_data_urls[0].substr (0, 50):",global_data_urls[0].substr(0,50));for(var r=a.length,_=0;_<r;_++)i=i.replace(a[_],'<img src="'+global_data_urls[_]);debug[0]&&console.log("[submit_feedback2] feedback_html.length:",i.length)}var n,o,c,d;if("qwiz_"==e?(n="div#qwiz"+t,o="qwiz",c=qwiz_.get_qwizdata,d=$("div.header-qwiz"+t).html()):(n="div.qcard_card-qdeck"+t,o="qdeck",c=qcard_.get_deckdata,d=$("div#qcard_header-qdeck"+t).html()),provide_feedback_html[n]=i,i.length>25e6)return alert("Sorry, your feedback is too big (large images). Please use smaller/fewer images."),!1;var l=c(t,"qrecord_id"),u=document_qwiz_qdeck_maker_ids[o+t],p={feedback_html:i,page_url:window.location.href,user_agent:navigator.userAgent,qwiz_qcard:n,qname:e,header_html:d,i_qwiz:t,i_question:s,maker_id:u,taker_username:document_qwiz_username,taker_email:document_qwiz_email};qqc.jjax(e,t,l,"receive_feedback",p)}function qwiz_deck_selector(e,t){return("qwiz_"==e?"div#qwiz"+t:"div.qcard_card-qdeck"+t)+" "}function set_display_pay_screen(e,t){var s="";return document_qwiz_login_alt_free_trial?s="free_trial":"qwiz_"==e&&(s=qwiz_.get_qwizdata(t,"display_pay_screen")),s}function register_taker_registered_feedback(e,t,s,i){if(debug[0]&&console.log("[register_taker_registered_feedback] qname:",e),!i){if(htm=[],s){plugin_url||(plugin_url=qqc.get_qwiz_param("url","./"));const e=plugin_url+"images/spinner40x40.gif";htm.push('<img src="'+e+'" class="qwiz-center" style="margin-top: 70px;" />');const t=qqc.get_qwiz_param("server_name","Qwizcards");("learn-biology.com"==t||debug[0])&&(document.location=`https://${t}/thank-you-student-free-trial`)}else htm.push("<br />"),htm.push("<br />"),htm.push("<p>"),htm.push("<b>Thank you.&nbsp; You are now registered for class "+register_taker_global_reg_code_class_name+", "+register_taker_global_reg_code_school_name+"</b>"),htm.push("</p>"),htm.push("<p>"),htm.push("When you do a quiz or flashcard deck, be sure to log in (under the"),htm.push("pull-down triangle icon on each quiz or deck)."),htm.push("</p>");var a="";"qwiz_"==e&&(a=qwiz_.get_qwizdata(t,"display_pay_screen")),"free_trial"==a?document_qwiz_good_through_date_ok=!0:a||(i=register_taker_global_reg_code_ok_f?0:1,htm.push('<button class="qwiz_button" onclick="'+e+".login_ok ("+t+", 0, "+i+')">'),htm.push("Continue"),htm.push("</button>")),qqc.$get_login_div(e,t).html(htm.join("\n")).show()}return!1}function extract_delete_shortcode_content(e,t,s,i){for(var a=[],r="["+t+"]",_="[/"+t+"]";;){var n=e.indexOf(r);if(-1==n)break;if(e.indexOf(_)<n)i.additional_errmsgs.push(r+" "+qqc.T("found, but not")+" "+_);else{var o=new RegExp("(<[^\\/][^>]*>\\s*)*?\\["+t+"\\]([\\s\\S]*?)\\[\\/"+t+"\\]((<\\/[^>]+>\\s*)*)","m"),c=e.substr(n).match(o);a.push(c[2]),e=e.replace(o,"")}if(!s)break}return{htm:e,content:a=a.length?a.join(""):"NA"}}function add_span_if_empty(e,t){t||-1!=e.search(/\S/)?-1==e.replace(/&nbsp;|&ensp;|&emsp;|&thinsp;|&hairsp;/,"").search(/\S/)&&(e+='<span class="qwiz-avoid-br" style="display: none;">x</span>'):e="";return e}function htmlDecode(e){return(new DOMParser).parseFromString(e,"text/html").documentElement.textContent}this.create_progress_bars3=function(e){debug[12]&&console.log("[create_progress_bars3] data:",e);var t,s=document_qwiz_user_logged_in_b,i=e.qname,a=e.i_qwiz_qdeck,r=e.qrecord_id;if(s){var _=e.units,n=e.n_correct_by_unit_topic,o=e.n_questions_by_unit_topic;t=_.length;for(var c=0,d=0,l=0;l<t;l++)c+=n[l],d+=o[l]}var u=[];const p=qwiz_.get_qwizdata(a,"qwiz_timer");if(u.push('<div id="progress_bars_leaderboard_tabs_'+i+a+'" class="progress_bars_leaderboard_tabs">'),u.push("<ul>"),s&&(u.push("<li>"),u.push('<a href="#progress_bars_tab_'+i+a+'">'),u.push("Progress"),u.push("</a>"),u.push("</li>")),p&&(u.push("<li>"),u.push('<a href="#leaderboard_tab_'+i+a+'">'),u.push("Fastest finish times"),u.push("</a>"),u.push("</li>")),u.push("</ul>"),s){u.push('<div id="progress_bars_tab_'+i+a+'" class="qwiz_progress_bars_tab">'),u.push('<table class="unit_progress_bars">');var h=!1;for(l=0;l<t;l++)_[l]||(_[l]="Other"),"Other"!=_[l]&&"(excluded)"!=_[l]&&(h=!0);if(h)for(l=0;l<t;l++){if("(excluded)"!=_[l]){var g=n[l]+"/"+o[l];u.push("<tr>"),u.push("<td>"),u.push(_[l]),u.push("</td>"),u.push("<td>");var q="unit_progress_bar-"+i+a+"-unit"+l;u.push('<div id="'+q+'" class="unit_progress_bars"><div class="progress-label"></div></div>'),u.push("</td>"),u.push("</tr>")}}t&&(u.push("<tr>"),u.push('<td colspan="2">'),u.push('<hr style="margin: 2px 0 0;" />'),u.push("</td>"),u.push("</tr>")),u.push("<tr>"),u.push("<td>");const e=get_qwizdeckdata(i,a,"use_dataset")?"":", this session";"qwiz_"==i?u.push("<b>Quiz"+e+"</b>"):"qcard_"==i?u.push("<b>Deck"+e+"</b>"):document_qwiz_independent_taker_f?u.push("<b>All quizzes/decks tried</b>"):u.push("<b>Course</b>"),u.push("</td>"),u.push("<td>");q="course_progress_bar-"+i+a;u.push('<div id="'+q+'" class="unit_progress_bars"><div class="progress-label"></div></div>'),u.push("</td>"),u.push("</tr>"),u.push("</table>"),u.push('All work: <a href="'+server_loc+"/index?student_view=1&time="+document_qwiz_session_id+'" style="color: blue;" target="_blank">'),u.push(qqc.T("My scores")+"</a>"),u.push('<button class="qwiz_button exit_progress_bars" style="float: right;" onclick="'+i+".no_login ("+a+', false, true, event)">'),u.push("Continue"),u.push("</button>"),u.push("</div>")}if(p){u.push('<div id="leaderboard_tab_'+i+a+'" class="leaderboard">'),u.push('<div id="leaderboard-quiz_times_histogram-qwiz'+a+'">'),u.push("</div>"),u.push('<div class="refresh_leaderboard">'),u.push("Refresh every"),u.push('<select onchange="'+qqcname+".refresh_leaderboard_change (this, '"+i+"', "+a+", '"+r+"')\">");var m=["","5","10","15","30","60"],w=m.length;for(l=0;l<w;l++){var f=leaderboard_refresh_sec==m[l]?" selected":"";u.push('<option value="'+m[l]+'"'+f+">"),u.push(m[l]),u.push("</option>")}u.push("</select>"),u.push(" seconds"),u.push("</div>"),u.push('<button class="qwiz_button exit_progress_bars" style="float: right;" onclick="'+i+".no_login ("+a+', false, true, event)">'),u.push("Continue"),u.push("</button>"),u.push("</div>")}u.push("</div>"),$(i?"qwiz_"==i?"#qwiz_login-qwiz"+a:"div.qcard_card-qdeck"+a+" div.qcard-front div.qcard_content_size":"#progress_bars"+a).html(u.join("\n")).show();var b=0;if("leaderboard"==progress_bars_leaderboard[i+a]&&(b=1,qqc.qjax(i,a,r,"get_quiz_times",{summary:0})),$("#progress_bars_leaderboard_tabs_"+i+a).tabs({active:b,activate:function(e,t){t.newPanel.hasClass("leaderboard")&&(debug[12]&&console.log("[create_progress_bars3 > leaderboard activate] qrecord_id:",r),qqc.qjax(i,a,r,"get_quiz_times",{summary:0}))}}),s){if(t>1)for(l=0;l<t;l++){if("(excluded)"!=_[l]){var v=parseInt(100*n[l]/o[l],10),k=$("#unit_progress_bar-"+i+a+"-unit"+l);k.progressbar({value:v});g=n[l]+"/"+o[l];k.find("div.progress-label").text(g)}}var z=$("#course_progress_bar-"+i+a);v=parseInt(100*c/d,10);z.progressbar({value:v});g=c+"/"+d;z.find("div.progress-label").text(g)}},this.refresh_leaderboard_change=function(e,t,s,i){if(void 0!==refresh_leaderboard_timeout[s]&&clearTimeout(refresh_leaderboard_timeout[s]),leaderboard_refresh_sec=e.value){var a=function(){qqc.qjax(t,s,i,"get_quiz_times",{summary:0}),refresh_leaderboard_timeout[s]=setTimeout(a,1e3*leaderboard_refresh_sec)};refresh_leaderboard_timeout[s]=setTimeout(a,1e3*leaderboard_refresh_sec)}},this.update_leaderboard_opt_out=function(e,t,s){var i=s.checked?1:0;qqc.qjax(e,t,"","update_leaderboard_opt_out",{opt_out_f:i})},this.create_use_dataset_options=function(e,t,s){"qwiz_"==e?$("#progress-qwiz"+s).html(""):$("#progress-qdeck"+s).html(""),plugin_url||(plugin_url=qqc.get_qwiz_param("url","./"));const i='<img src="'+(plugin_url+"images/spinner40x40.gif")+'" class="qwiz-center" style="margin-top: 100px;" />';qqc.$get_login_div(e,s).html(i).show(),use_dataset_options_html[e+s]=t[s].use_dataset_options_html,use_dataset_options_display_name[e+s]=t[s].use_dataset_options_display_name,qrecord_id=t[s].qrecord_id;var a=t[s].use_dataset;if(t[s].record_start_b&&!0===document_qwiz_user_logged_in_b){t[s].record_start_b=!1;var r=(new Date).getTime()/1e3,_={qrecord_id_ok:t[s].qrecord_id_ok,type:"start",now_sec:r,dataset:a,callback:"create_use_dataset_options2"},n="qwiz_"==e?"record_response_v3":"record_qcard_v2";qqc.qjax(e,s,qrecord_id,n,_)}else qqc.create_use_dataset_options2(e,s,a,qrecord_id)},this.create_use_dataset_options2=function(e,t,s,i){if(debug[11]&&console.log("[create_use_dataset_options2] dataset:",s,", qrecord_id:",i),use_dataset_options_html[e+t]&&!0!==document_qwiz_user_logged_in_b)return qqc.create_use_dataset_options3("",e,t),!1;get_dataset_units_topics(e,t,i,s)},this.create_use_dataset_options3=function(e,t,s){if(debug[11]&&console.log("[create_use_dataset_options3] data:",e),t)return(p=qqc.$get_login_div(t,s)).html(use_dataset_options_html[t+s]).show(),!1;t=e.qname,s=e.i_qwiz_qdeck;var i,a=e.qrecord_id,r=e.dataset,_=e.units,n=e.topics,o=e.n_questions_by_unit_topic,c=e.n_correct_by_unit_topic,d=_.length,l=e.dataset_reset_questions_date,u=(e.maker_specific_random,e.maker_specific_questions_cards_to_show),p=qqc.$get_login_div(t,s);if(e.errmsg)return p.html("<br /><b>"+e.errmsg+"</b>").show(),!1;if(0==d)return i="qwiz_"==t?qqc.T("You have completed all questions correctly"):qqc.T("You have marked all cards")+" &ldquo;"+qqc.T("Got it!")+"&rdquo;",p.html("<br /><b>"+i+"</b>").show(),!1;for(var h=[],g=0;g<d;g++)h.push([g,qqc.create_sortable_unit_number(_[g]),qqc.create_sortable_unit_number(n[g])]);h.sort(firstBy(1).thenBy(2));var q=[];for(g=0;g<d;g++)q.push(h[g][0]);var m={},w={};maker_specific_n_qs_by_unit_topic={};var f={},b={},v=!0,k={},z=0;(H=_[d-1])||(H="Other");for(var y,x=0,T=0,S=0,C=d-1;C>=0;C--){const e=q[C];var j=null===c[e]?0:parseInt(c[e],10);_[e]||(_[e]="Other"),n[e]||(n[e]="Other");var A=_[e]+"__"+n[e];if(w[A=A.replace(/[^a-z0-9 ]/gi,"_")]=o[e],f[A]=j,_[e]!=H){var P=H.replace(/[^a-z0-9 ]/gi,"_");m[P]=x,b[P]=T,"Other"!=H&&(v=!1),k[P]=0==S,x=0,T=0,S=0,H=_[e]}x+=parseInt(o[e],10),T+=j,"Other"!=n[e]&&S++,z+=o[e]}y=u?0:get_qwizdeckdata(t,s,"qwiz_"==t?"questions_to_show":"cards_to_show"),m[O=_[0].replace(/[^a-z0-9 ]/gi,"_")]=x,b[O]=T,"Other"!=_[0]&&(v=!1),k[O]=0==S;p=qqc.$get_login_div(t,s);if(use_dataset_options_html[t+s]){for(var O in p.html(use_dataset_options_html[t+s]).show(),$("#dataset_units_topics-"+t+s+" td.nquestions").html("0"),$("#dataset_units_topics-"+t+s+" td.ncorrect").html("0"),m)$("#dataset_units_topics-"+t+s+" td.nquestions."+O).html(m[O]),$("#dataset_units_topics-"+t+s+" td.ncorrect."+O).html(b[O]);var E=0;for(var A in w){$("#dataset_units_topics-"+t+s+" td.nquestions."+A).html(w[A]);const e=f[A];$("#dataset_units_topics-"+t+s+" td.ncorrect."+A).html(e),E+=e}return $("#dataset_units_topics-"+t+s+" td.ncorrect.total").html(E),!1}"not ready"==icon_expand_src&&(plugin_url||(plugin_url=qqc.get_qwiz_param("url","./")),icon_expand_src=plugin_url+"images/icon_expand.gif",icon_collapse_src=plugin_url+"images/icon_collapse.gif");var M=[],I=r;use_dataset_options_display_name[t+s]&&(I=use_dataset_options_display_name[t+s]);var N="topics_only"==get_qwizdeckdata(t,s,"dataset_intro_f"),R=get_qwizdeckdata(t,s,"dataset_intro_info_only_msg"),B="qwiz_"==t?qqc.T("questions"):qqc.T("cards");if(R&&M.push('<span class="qwiz_errmsg">'+R+"</span><br />"),M.push('<div class="use_dataset_options_header">'+I+"</div>"),v&&k.Other){F=u||w.Other__Other;E=f.Other__Other;M.push("<br /><br />"),"qwiz_"==t?(M.push("<b>"+qqc.T("Questions")+": "+F),a&&!0===document_qwiz_user_logged_in_b&&M.push("&ensp; "+qqc.T("Correct")+": "+E),M.push("</b><br />")):(M.push("<b>"+qqc.T("Cards")+": "+F),a&&!0===document_qwiz_user_logged_in_b&&M.push("&ensp; &ldquo;"+qqc.T("Got it!")+"&rdquo;: "+E),M.push("</b><br />"))}else{v&&qqc.set_qwizdeckdata(t,s,"expand_topics",!0),N||("qwiz_"==t?M.push('<p class="use_dataset_options">'+qqc.T("Choose the type of questions you want to practice")+"</p>"):M.push('<p class="use_dataset_options">'+qqc.T("Choose the type of cards you want to practice")+"</p>")),M.push('<table id="dataset_units_topics-'+t+s+'" class="dataset_units_topics" align="center">'),M.push("<tr>"),M.push("<th>"),M.push("</th>");var D=N?"hidden":"visible";M.push("<th>"),M.push('<input type="checkbox" onclick="qwiz_qcards_common.dataset_units_topics_toggle_all (this)" style="visibility: '+D+'" checked />'),M.push("</th>"),M.push("<th>"),M.push('<span class="units_header">Unit</span>'),M.push("</th>"),M.push("<th>"),M.push('<span class="topics_header">Topic</span>'),M.push("</th>"),M.push('<th class="qwiz-center">'),"qwiz_"==t?M.push("Qs"):M.push("Cards"),M.push("</th>"),a&&!0===document_qwiz_user_logged_in_b&&(M.push('<th class="qwiz-center">'),"qwiz_"==t?M.push(qqc.T("Correct")):M.push("&ldquo;"+qqc.T("Got it!")+"&rdquo;"),M.push("</th>")),M.push("</tr>");var H="",L=-1,F=0,E=0,J=0,U=0,V=u/z;V>1&&(V=1);for(C=0;C<d;C++){const e=q[C];var Y=_[e],W=n[e];if(Y!=H){L++,H=Y;var K=t+s+"-unit"+L,Q=m[O=Y.replace(/[^a-z0-9 ]/gi,"_")];u&&(J+(Q=Math.ceil(Q*V))>u&&(Q=u-J),U=0),Q>0&&(M.push('<tr id="'+K+'" class="unit_head">'),M.push('<td style="padding-right: 5px;">'),k[O]||M.push('<img src="'+icon_expand_src+'" class="expand expand_collapse expand_collapse_unit qwiz-inline" onclick="qwiz_qcards_common.dataset_unit_expand_collapse (\''+t+"', "+s+', this)" title="'+qqc.T("Show/hide topics in this unit")+'" />'),M.push("</td>"),M.push("<td>"),M.push('<input type="checkbox" class="toggle_topics" style="visibility: '+D+'" onclick="qwiz_qcards_common.dataset_unit_toggle_topics (this)" title="'+qqc.T("Select/deselect all topics in this unit")+'" checked />'),M.push("</td>"),M.push('<td colspan="2" class="unit">'),M.push("<b>"),M.push(Y.replace(/_/g," ")),M.push("</b>"),M.push("</td>"),M.push('<td class="qwiz-right qwiz-nowrap nquestions '+O+'">'),M.push("<b>"),M.push(Q),M.push("</b>"),M.push("</td>"),a&&!0===document_qwiz_user_logged_in_b&&(M.push('<td class="qwiz-right qwiz-nowrap ncorrect '+O+'">'),M.push("<b>"),M.push(b[O]),M.push("</b>"),M.push("</td>")),M.push("</tr>"),J+=Q)}var X=w[A=(A=Y+"__"+W).replace(/[^a-z0-9 ]/gi,"_")];if(Q>0&&(u&&(U+(X=Math.ceil(X*V))>Q&&(X=Q-U),maker_specific_n_qs_by_unit_topic[A]=X),X>0)){M.push('<tr class="unit_topic unit_topic'+L+'" data-unit="'+btoa(Y)+'">'),M.push("<td>"),M.push("</td>");var G=t+s+"-unit_topic"+e;M.push("<td>"),M.push('<input type="checkbox" id="'+G+'" style="visibility: '+D+'" checked />'),M.push("</td>"),M.push("<td>"),M.push("</td>"),M.push('<td class="topic" data-topic="'+btoa(W)+'">'),M.push(W.replace(/_/g," ")),M.push("</td>"),M.push('<td class="qwiz-right qwiz-nowrap nquestions '+A+'">'),M.push(X),M.push("</td>"),F+=X,a&&!0===document_qwiz_user_logged_in_b&&(M.push('<td class="qwiz-right qwiz-nowrap ncorrect '+A+'">'),M.push(f[A]),M.push("</td>")),E+=f[A],M.push("</tr>"),U+=X}}M.push('<tr class="border-top">'),M.push("<td>"),M.push("</td>"),M.push("<td>"),M.push("</td>"),M.push('<td colspan="2">'),M.push("<b>"),M.push("Total"),M.push("</b>"),M.push("</td>"),M.push('<td class="qwiz-right qwiz-nowrap">'),M.push("<b>"),M.push(F),M.push("</b>"),M.push("</td>"),a&&!0===document_qwiz_user_logged_in_b&&(M.push('<td class="qwiz-right qwiz-nowrap ncorrect total">'),M.push("<b>"),M.push(E),M.push("</b>"),M.push("</td>")),M.push("</tr>"),M.push("</table>")}if(!R){var Z;if(M.push('<p class="use_dataset_options">'),Z="qwiz_"==t?qqc.T("'Redo' - questions done before this date will not be counted in totals"):qqc.T("'Redo' - cards done before this date will not be counted in totals"),M.push("Restart:"),M.push('<input type="date" id="dataset_reset_questions_date_'+t+s+'" class="dataset_reset_questions_date" value='+l+" />"),M.push('<img src="'+plugin_url+'images/info_icon.png" class="qwiz_icon_smaller qwiz-inline" style="cursor: help;" title="'+Z+'">'),M.push("&emsp;"),N?M.push(B):M.push(qqc.T("Max to practice in this session")+":"),M.push('<select id="dataset_max_q_'+t+s+'" class="dataset_max_q">'),N)M.push("<option selected>"),M.push(F),M.push("</option>");else{var ee=[10,20,30,50];debug[11]&&ee.unshift(3);var te=!1,se=ee.length;for(g=0;g<se;g++){if(!te&&y&&ee[g]>=y&&(M.push("<option selected>"),M.push(y),M.push("</option>"),te=!0),ee[g]>=F){const e=te?"":" selected";M.push("<option"+e+">"),M.push(F),M.push("</option>");break}y&&ee[g]==y||(M.push("<option>"),M.push(ee[g]),M.push("</option>"))}if(F>ee[se-1]){const e=te?"":" selected";M.push("<option"+e+">"),M.push(F),M.push("</option>")}}if(M.push("</select>"),Z="qwiz_"==t?"Note: questions that you miss will be repeated within this session":"Note: cards that you mark &ldquo;Need more practice&rdquo; will be repeated within this session",M.push('<img src="'+plugin_url+'images/info_icon.png" class="qwiz_icon_smaller qwiz-inline" style="cursor: help;" title="'+Z+'">'),M.push("</p>"),a&&!0===document_qwiz_user_logged_in_b&&!N){var ie;M.push('<span class="use_dataset_options">'),M.push("Do "+B+": &ensp;"),M.push("</span>"),M.push('<label class="qwiz_label use_dataset_options">'),ie="qwiz_"==t?qqc.T("Priority is questions you answered incorrectly and new questions, but questions you answered correctly will sometimes be shown for review"):qqc.T("Priority is cards you marked")+" &ldquo;"+qqc.T("Need more practice")+"&rdquo; "+qqc.T("and new cards, but cards you marked")+" &ldquo;"+qqc.T("Got it!")+"&rdquo; "+qqc.T("will sometimes be shown for review"),M.push('<input type="radio" name="spaced_repetition" class="qwiz_radio_smaller" value="spaced_repetition" checked />'+qqc.T("Spaced repetition")+'<img src="'+plugin_url+'images/info_icon.png" class="qwiz_icon_smaller qwiz-inline" style="cursor: help;" title="'+ie+'" /> &ensp;'),M.push("</label>"),M.push('<label class="qwiz_label use_dataset_options">'),M.push('<input type="radio" name="spaced_repetition" class="qwiz_radio_smaller" value="new" />'+qqc.T("New")+"&ensp;"),M.push("</label>"),M.push('<label class="qwiz_label use_dataset_options">');var ae="qwiz_"==t?qqc.T("Incorrect"):"&ldquo;"+qqc.T("Need more practice")+"&rdquo;";M.push('<input type="radio" name="spaced_repetition" class="qwiz_radio_smaller" value="incorrect" />'+ae+" &ensp;"),M.push("</label>"),M.push('<label class="qwiz_label use_dataset_options">'),M.push('<input type="radio" name="spaced_repetition" class="qwiz_radio_smaller" value="all" />'+qqc.T("All")),M.push("</label>"),M.push("<br />")}var re=qqc.T("Begin practice");M.push('<button class="qwiz_button begin_practice" onclick="qwiz_qcards_common.begin_dataset_quiz_deck (\''+qqc.addSlashes(r)+"', '"+t+"', "+s+", '"+qqc.addSlashes(a)+"', "+z+", 0, 0, '"+l+"', "+u+')">'),N&&(re="qwiz_"==t?qqc.T("Start questions"):qqc.T("Start cards")),M.push(re),M.push("</button>"),M.push("<br />"),M.push("<br />")}p.html(M.join("\n")).show(),"qcard_"==t&&qcard_.set_container_width_height(s),(N||get_qwizdeckdata(t,s,"expand_topics"))&&$("table#dataset_units_topics-qwiz_"+s+" img.expand_collapse_unit").each((function(){qqc.dataset_unit_expand_collapse(t,s,this)}))},this.offset_height_rescale=function(e,t,s){var i=e.outerHeight()*(t-1);s&&(i+=s),e.css({"margin-bottom":i.toFixed(1)+"px"})},this.create_sortable_unit_number=function(e){var t="",s=typeof e;if("number"!=s&&"string"!=s)t="z";else if(""==e)t="z";else{var i=e.split("."),a=i.length;if(a>1){var r=i[1].split("-");i[1]=r[0]}for(var _=Math.min(2,a),n=0;n<_;n++)isNaN(i[n])||(i[n]=("++++++"+i[n]).slice(-6));t=i.join(".")+" "+e}return t},this.shuffle=function(e){for(var t,s,i=e.length;0!==i;)s=Math.floor(Math.random()*i),t=e[i-=1],e[i]=e[s],e[s]=t;return e},firstBy=function(){function e(e,t){if("function"!=typeof e){var s=e,i=window.navigator.userLanguage||window.navigator.language;e=function(e,t){if("number"==typeof e[s]&&"number"==typeof t[s])return e[s]-t[s];var a=e[s]||"zzz",r=t[s]||"zzz";return a.toString().toLowerCase().localeCompare(r.toString().toLowerCase(),i)}}return-1===t?function(t,s){return-e(t,s)}:e}function t(t,i){return(t=e(t,i)).thenBy=s,t}function s(s,i){var a=this;return s=e(s,i),t((function(e,t){return a(e,t)||s(e,t)}))}return t}(),this.create_paypal_subscription_screen=function(e,t,s){$("div.qwiz-usermenu_icon").removeClass("qwiz-icon-bounce");const i=qqc.$get_login_div(e,t);var a=[];if(s&&!document_qwiz_user_logged_in_b)return a.push("Please log in"),void i.html(a.join("\n")).show();var r;if(qqc.set_immediate_payment(e,t)?(r="P-3BN46242LL439390GMYKVOVA",a.push("\n                Sign up with PayPal or a credit card\n                <br />\n                ")):(r="P-6T382372C44113124MXX5UFI",a.push("\n                Sign up for a two-week free trial with a PayPal or credit card\n                authorization.&nbsp;\n                There is no charge; you can cancel any time.&nbsp;\n                After two weeks you will be charged $24.95 per month;\n                again, you can cancel any time.&nbsp;\n                ")),debug[0]){const s="test"+(parseInt(1e6*Math.random())+1e5);a.push(`\n              <br />\n              <button onclick="qwiz_qcards_common.free_trial_registration ('${e}', ${t}, {subscriptionID: '${s}'})">\n                 Test (bypass PayPal)\n              </button>\n              <br />\n                `)}a.push("<br />"),plugin_url||(plugin_url=qqc.get_qwiz_param("url","./"));const _='<img src="'+plugin_url+'images/spinner16x16.gif" />';a.push(`\n              <script src="https://www.paypal.com/sdk/js?client-id=AdMvaQesYKbCDS3vl8-_Td2bmsnVdwrPl3jbkMzefr3RUZIsmK8BHwUZxEfg_f2m2jfmLJwh4-iEikTC&vault=true&intent=subscription">\n              <\/script>\n              <div id="paypal-button-container-${e}${t}" style="width: 250px; margin: auto;">\n                 ${_}\n              </div>\n             `),i.html(a.join("\n")).show();var n=0;const o=function(){if("undefined"==typeof paypal)++n<20&&setTimeout(o,250);else{var s=[];if(s.push(`\n                 <script>\n\n                    // Hide spinner.\n                    parent.jQuery ('#paypal-button-container-${e}${t}').html ('');\n\n                    // Note: button width controlled by width of paypal-button-\n                    // container (just above).\n                    paypal.Buttons({\n                       style: {\n                          height:   40,\n                          shape:    'pill',\n                          tagline:  false\n                       },\n                       createSubscription: function(data, actions) {\n                          return actions.subscription.create({\n                             plan_id: '${r}',\n                             application_context: {\n                                shipping_preference:  'NO_SHIPPING'\n                             }\n                          });\n                       },\n                          onApprove: function(data, actions) {\n                             //console.log ('[onApprove] data:', data);\n                          //console.log ('[onApprove] parent:', parent);\n                          parent.qwiz_qcards_common.free_trial_registration ('${e}', ${t}, data, actions);\n                       }\n                     }).render("#paypal-button-container-${e}${t}");\n                 <\/script>\n         `),!("qwiz_"==e?qwiz_.get_qwizdata(t,"display_pay_screen"):qcard_.get_deckdata(t,"display_pay_screen"))){const i="qwiz_"==e?"quiz":"flashcard deck";s.push(`\n                 <div style="text-align: right;">\n                    <button onclick="${e}.no_login (${t}, false, true)">\n                       Return to ${i}\n                    </button>\n                 </div>\n            `)}i.append(s.join("\n"))}};setTimeout(o,250)},this.free_trial_registration=function(e,t,s,i){if(debug[0]&&console.log("[free_trial_registration] data:",s),document_qwiz_subscription_id=s.subscriptionID,"qwiz_"==e){const i=qwiz_.get_qwizdata(t,"display_pay_screen"),a=qqc.set_immediate_payment(e,t);if("special_offer"==i||document_qwiz_user_logged_in_b&&"free_trial"==i&&a){s={login_f:0,special_offer:1,register_v2:"1",subscription:1,payment_type_id:a?65:52,subscription_id:document_qwiz_subscription_id,callback:"special_offer_callback"};return debug[0]&&console.log("[free_trial_registration] data",s),void qqc.qjax(e,t,"","new_student_registration",s)}}var a;a=qqc.set_immediate_payment(e,t)?"Create a new account &ndash; or log in with your existing account":"Create a new Learn-Biology.com login account",a+='<br /><span class="qwiz-smaller qwiz-highlight">Please be sure to complete this step in order to access learn-biology.com</span>',"qwiz_"==e?qwiz_.display_login(t,!1,"register",a):qcard_.display_login(t,!1,"register",a)},this.create_pay_screen=function(e,t,s,i,a){var r=qqc.$get_login_div(e,s),_=[];if(t[s].pay_errmsg)_.push("<strong>"+t[s].pay_errmsg+"</strong><br />");else{i&&_.push(i+"<br />");var n=t[s].taker_payment_type_ids.length;t[s].any_promo;_.push('<form action="https://www.paypal.com/cgi-bin/webscr" onSubmit="return qwiz_qcards_common.submit_for_payment (\''+e+"', "+s+', this)" method="post" target="_blank">'),_.push('<input type="hidden" name="cmd" value="_s-xclick">'),_.push('<input type="hidden" name="hosted_button_id" value="WH6FWJY29SWN8">');var o=-1,c=0,d=n;void 0!==t[s].i_promo&&-1!=(o=t[s].i_promo)&&(c=o,d=o+1,n=1,a="Pay now"),_.push('<table class="pay_options">'),_.push("<tr>"),_.push("<td>"),_.push('<input type="hidden" name="on0" value="Options">'),n>1&&_.push("Please choose:"),_.push("</td>"),_.push("</tr>"),_.push("<tr>"),_.push("<td>");var l="";n<=2?l=' size="2" style="min-height: 42px;"':3==n?l=' size="3" style="min-height: 64px;"':n>=4&&(l=' size="4" style="min-height: 86px;"'),_.push('<select name="os0" class="qwiz_paypal_select"'+l+" onchange=\"qwiz_qcards_common.update_pay_button (this, '"+e+"', "+s+')">');for(var u=!0,p=!1,h=c;h<d;h++){var g=t[s].taker_fees[h];if(debug[0]&&19.99==g&&(g="1.00"),!(document_qwiz_user_logged_in_b&&g<=0||g>0)){var q,m=t[s].taker_good_for_n_periodss[h],w=t[s].taker_good_for_periods[h],f=t[s].taker_payment_descriptions[h],b=t[s].taker_payment_selected_bs[h];g<=0?(q=qqc.capitalize(qqc.number_to_word(m))+" "+qqc.plural(w,w+"s",m),0==h&&(b=!0,p=!0)):(q=qqc.currency(g)+" "+qqc.number_to_word(m)+" "+qqc.plural(w,w+"s",m),a&&"Pay now"==a&&(p||(b=!0,p=!0))),f&&(q+=" - "+(f=(f=f.replace(/<\/{0,1}b>/gi,"")).replace(/<[^>]+>.*/,"")));var v=b?" selected":"";_.push('<option value="'+g+'"'+v+">"),_.push(q),_.push("</option>"),g>0&&(u=!1)}}_.push("</select> "),_.push("</td>"),_.push("</tr>"),_.push("</table>"),_.push('<input type="hidden" name="currency_code" value="USD">'),u||t[s].taker_fees[0]<=0&&(!a||"Sign up"==a)?(sign_up_display="block",paypal_display="none"):(sign_up_display="none",paypal_display="block");var k='style="display: '+sign_up_display+';"';_.push('<div class="sign_up_button" '+k+">"),_.push('<input type="submit" class="qwiz_button" value="Sign up" />'),_.push('<div class="signup_confirm_email_errmsg qwiz_errmsg" style="display: none;">'),_.push("</div>"),_.push("</div>"),k='style="display: '+paypal_display+';"',_.push('<div class="paypal_button" '+k+">"),_.push('<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_paynowCC_LG.gif" style="border: none;" name="submit" alt="PayPal - The safer, easier way to pay online!">'),_.push('<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">'),_.push("</div>"),_.push('<input type="hidden" name="custom">'),_.push("</form>"),_.push("<button onclick=\"qwiz_qcards_common.payment_received (1, '"+e+"', "+s+')" class="qwiz_pay_cancel qwiz-smaller">'),_.push("Cancel"),_.push("</button>")}r.html(_.join("\n")).show()},this.update_pay_button=function(e,t,s){var i=qwiz_deck_selector(t,s);$(i+" div.signup_confirm_email_errmsg").hide(),e.value<="0.00"?($(i+"div.sign_up_button").show(),$(i+"div.paypal_button").hide()):($(i+"div.sign_up_button").hide(),$(i+"div.paypal_button").show())},this.hide_signup_confirm_email_errmsg=function(e){$(e).parents("div.sign_up_button").find("div.signup_confirm_email_errmsg").hide()},this.update_email_callback=function(e,t,s){debug&&console.log("[update_email_callback] qname:",e,", i_qwiz:",t,", errmsg:",s);var i=qwiz_deck_selector(e,t);if("need_password"==s)return qqc.create_password_dialog(e,t),$dialog_current_password.dialog("open"),!1;"password_incorrect"==s?$("#current_password_errmsg").html("Password incorrect"):"not_unique"==s?($(i+" div.update_email_errmsg").html("Email address already in use"),$(i+" span.confirm_email_address").addClass("qwiz_button_disabled")):"fail"==s?$(i+" div.update_email_errmsg").html("Sorry, unable to update email"):"ok"==s&&(document_qwiz_email=$(i+" input.confirm_email_address").val(),qqc.confirm_email2(e,t)),$dialog_current_password&&$dialog_current_password.dialog("close")},this.update_email_hide_error=function(e,t){var s=qwiz_deck_selector(e,t);return $(s+" div.update_email_errmsg").html(""),$(s+" span.confirm_email_address").removeClass("qwiz_button_disabled"),!1},this.confirm_email=function(e,t,s){if($(e).hasClass("qwiz_button_disabled"))return!1;var i=qwiz_deck_selector(t,s),a=$(i+"input.confirm_email_address").val();if(""==a)return $(i+" div.update_email_errmsg").html("Please enter email address"),$(e).addClass("qwiz_button_disabled"),!1;if(a!=document_qwiz_email){return/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(a)?(update_email_data={field:"email",value:a,callback:"qwiz_qcards_common.update_email_callback"},$(i+" span.confirm_email_address").addClass("qwiz_button_disabled"),qqc.qjax(t,s,"","update_my_account",update_email_data)):($(i+" div.update_email_errmsg").html("Not a valid email address"),$(e).addClass("qwiz_button_disabled")),!1}qqc.confirm_email2(t,s)},this.confirm_email2=function(e,t){var s=qwiz_deck_selector(e,t);$(s+" .signup_confirm_email").css({visibility:"visible"}),$(s+" input.signup_confirm_email").val("").focus(),$(s+" input.sign_up").removeClass("qwiz_button_disabled").removeAttr("disabled"),$(s+" div.signup_confirm_email_errmsg").hide();var i={field:"email_confirm",value:"",email_address:$(s+" input.confirm_email_address").val(),username:document_qwiz_username,callback:"qwiz_qcards_common.confirm_email_callback"};qqc.qjax(e,t,"","update_my_account",i)},this.confirm_email_callback=function(e,t,s){debug[0]&&console.log("[confirm_email_callback] errmsg:",s),"need_password"==s&&(qqc.create_password_dialog(e,t),$dialog_current_password.dialog("open"))},this.hide_current_password_errmsg=function(){$("#current_password_errmsg").html("")},this.create_password_dialog=function(e,t){var s=[];s.push('<div id="dialog_current_password" title="Security check: re-enter password">'),s.push("<tr>"),s.push("<td>"),s.push("Password"),s.push("</td>"),s.push("<td>"),s.push('<input id="current_password" type="password" onfocus="qwiz_qcards_common.hide_current_password_errmsg ()" />'),s.push("<br />"),s.push('<div id="current_password_errmsg" class="qwiz_errmsg">'),s.push("</div>"),s.push("</td>"),s.push("</tr>"),s.push("</div>"),$("body").append(s.join("\n")),$dialog_current_password=$("#dialog_current_password").dialog({autoOpen:!1,height:200,width:350,modal:!0,buttons:{Submit:function(){qqc.update_session_id(e,t)},Cancel:function(){$dialog_current_password.dialog("close")}}})},this.update_session_id=function(e,t){var s=$("#current_password").val();""!=s?(update_email_data.sha3_current_password=CryptoJS.SHA3(s).toString(),update_email_data.current_username=document_qwiz_username,qqc.qjax(e,t,"","update_my_account",update_email_data)):$("#current_password_errmsg").html("Please enter password")},this.create_enroll_screen=function(e,t){var s=[];s.push('<p style="font-weight: normal; text-align: left; margin: 0 0 0 10px;">'),s.push("You are currently registered as an &ldquo;independent student,&rdquo; not enrolled in a school or class.&nbsp;"),s.push("If you have a registration code you can join a class.&nbsp;"),s.push("<br />(Any work you have completed on quizzes and flashcard decks will be transferred to the teacher&rsquo;s gradebook.)"),s.push("</p>"),s.push('<table class="qwiz-border-none qwiz-padding" border="0" align="center"'),s.push("<tr>"),s.push('<td style="vertical-align: top;">'),s.push("<b>Registration code</b>"),s.push("</td>"),s.push("<td>"),s.push('<input type="text" class="enroll_screen_reg_code" style="padding: 2px;" onfocus="qwiz_qcards_common.hide_enroll_error ()" onkeydown="qwiz_qcards_common.enroll_registration_code_keydown (\''+e+"', "+t+');" />'),s.push('<div class="enroll_screen_reg_code_errmsg qwiz_errmsg"></div>'),s.push('<div class="enroll_screen_reg_code_class_name"></div>'),s.push("</td>"),s.push("</tr>"),s.push("<tr>"),s.push("<td>"),s.push("</td>"),s.push("<td>"),s.push('<button class="enroll_check_reg_code qwiz_button" onclick="qwiz_qcards_common.check_reg_code (\''+e+"', "+t+')">'),s.push("Check code"),s.push("</button>"),s.push('<button class="enroll_join_class qwiz_button" style="display: none;" onclick="qwiz_qcards_common.reset_independent_student (\''+e+"', "+t+')">'),s.push("Join class"),s.push("</button>"),plugin_url||(plugin_url=qqc.get_qwiz_param("url","./")),s.push('<img class="enroll_spinner" style="display: none;" src="'+plugin_url+'images/spinner16x16.gif" />'),s.push("</td>"),s.push("</tr>"),s.push("</table>"),s.push('<div style="text-align: right; padding-right: 10px;">'),s.push('<button class="qwiz-smaller" onclick="'+e+".no_login ("+t+', false, true)">'),s.push("Cancel"),s.push("</button>"),s.push("</div>");qqc.$get_login_div(e,t).html(s.join("\n")).show()},this.create_refresh_page_notice=function(e,t){qqc.$get_login_div(e,t).html('\n            <div class="qwiz-center">\n               <br />\n               <br />\n               <p>\n                  <b>Score-recording authentication expired.\n                  <br />\n                  Please re-load this page to continue</b>\n               </p>\n            </div>\n         ').show()},this.check_reg_code=function(e,t){var s=qwiz_deck_selector(e,t),i=$(s+"input.enroll_screen_reg_code").val();if(""!=i){$(".enroll_spinner").show();var a={reg_code:i,js_f:1};qqc.qjax(e,t,"","check_reg_code",a)}return!1},this.reg_code_ok_or_no=function(e){debug[0]&&console.log("[reg_code_ok_or_no] data:",e);var t=qwiz_deck_selector(e.qname,e.i_qwiz);$(t+".enroll_spinner").hide(),(enroll_reg_code_ok_f=1==e.num_rows)?(enroll_reg_code_school_id=e.school_id,enroll_reg_code_school_name=e.school_name,enroll_reg_code_class_id=e.class_id,enroll_reg_code_class_name=e.class_name,$(t+"div.enroll_screen_reg_code_class_name").html("<b>Registration for class "+e.class_name+", "+e.school_name+"</b>").show(),$(t+"button.enroll_check_reg_code").hide(),$(t+"button.enroll_join_class").show()):($(t+"div.enroll_screen_reg_code_errmsg").html("Could not find registration code").show(),$(t+"div.enroll_screen_reg_code_class_name").html("").hide())},this.hide_enroll_error=function(){$("div.enroll_screen_reg_code_errmsg").html("").hide()},this.enroll_registration_code_keydown=function(e,t){debug[0]&&console.log("[enroll_registration_code_keydown] enroll_reg_code_ok_f:",enroll_reg_code_ok_f);var s=qwiz_deck_selector(e,t);enroll_reg_code_ok_f?($(s+"button.enroll_join_class").hide(),$(s+"button.enroll_check_reg_code").show()):($(s+"div.enroll_screen_reg_code_errmsg").html("").hide(),$(s+"div.enroll_screen_reg_code_class_name").html("").hide())},this.reset_independent_student=function(e,t){debug[0]&&console.log("[reset_independent_student]");var s=qwiz_deck_selector(e,t);if(""==$(s+"input.enroll_screen_reg_code").val())return $("div.enroll_screen_reg_code_errmsg").html("Please enter registration code").show(),!1;$(s+".enroll_spinner").show();var i={jjax:1,school_id:enroll_reg_code_school_id,class_id:enroll_reg_code_class_id,taker_id:document_qwiz_taker_id};return qqc.qjax(e,t,"","reset_independent_student",i),!1},this.reset_independent_student_callback=function(e){if(debug[0]&&console.log("[reset_independent_student_callback] data:",e),"ok"==e.errmsg)e.jjax=1,qqc.qjax(e.qname,e.i_qwiz,"","add_to_class",e);else{var t=[];t.push("<br /><p><b>Sorry, unable to reset status</b></p>"),t.push('<button class="qwiz_button" onclick="'+e.qname+".no_login ("+e.i_qwiz+', false, true, event)">'),t.push("Continue"),t.push("</button>"),t=t.join("\n"),qqc.$get_login_div(e.qname,e.i_qwiz).html(t).show()}},this.add_to_class_callback=function(e){debug[0]&&console.log("[add_to_class_callback] data:",e);var t=qwiz_deck_selector(e.qname,e.i_qwiz);$(t+".enroll_spinner").hide();var s=[];"ok"==e.errmsg?(document_qwiz_school_id=enroll_reg_code_school_id,document_qwiz_class_id=enroll_reg_code_class_id,document_qwiz_independent_taker_f=!1,qqc.set_user_menus_and_icons(),s.push("<br /><p><b>You are now enrolled in "+enroll_reg_code_class_name+", "+enroll_reg_code_school_name+"</b></p>")):s.push("<br /><p><b>Sorry, unable to reset status</b></p>"),s.push('<button class="qwiz_button" onclick="'+e.qname+".no_login ("+e.i_qwiz+', false, true, event)">'),s.push("Continue"),s.push("</button>"),s=s.join("\n"),qqc.$get_login_div(e.qname,e.i_qwiz).html(s).show()},this.create_provide_feedback_screen=function(e,t,s){var i,a,r=[];if(r.push('<div style="margin-top: 5px">'),r.push("<b>Feedback - bugs, errors, suggestions...?</b>"),r.push("</div>"),r.push('<div class="qwiz-normal qwiz-smaller">'),r.push("Feel free to copy and paste, including screenshots!"),r.push("</div>"),"qcard_"==e){var _=$("div.qcard_card-qdeck"+t),n=_.width()-16,o=.62*_.height();i=' style="width: '+parseInt(n)+"px; height: "+parseInt(o)+'px;"',a="div.qcard_card-qdeck"+t}else i=' style="min-height: 175px;"',a="div#qwiz"+t;r.push('<div class="qwiz-provide_feedback"'+i+' contenteditable="true">'),provide_feedback_html[a]&&r.push(provide_feedback_html[a]),r.push("</div>"),r.push('<div class="qwiz-normal qwiz-smaller" style="text-align: left;">'),r.push("From: "+document_qwiz_username),r.push("</div>"),r.push("<div>"),r.push('<button class="qwiz_button" onclick="qwiz_qcards_common.submit_feedback (\''+e+"', "+t+", "+s+')">'),r.push("Submit"),r.push("</button>"),r.push("&emsp;"),r.push('<button class="qwiz_button_small qwiz-b_and_w" onclick="qwiz_qcards_common.cancel_provide_feedback (\''+e+"', "+t+')">'),r.push("Back"),r.push("</button>"),r.push('<span class="qwiz-smaller qwiz-normal">'),r.push("(you can return to complete your comments)"),r.push("</span>"),r.push("</div>"),qqc.$get_login_div(e,t).html(r.join("\n")).show();$("div.qwiz-provide_feedback").on("paste",(function(e){var t=this;setTimeout((function(){resize_feedback_images(t)}),100)}))},this.submit_feedback=function(e,t,s){var i=$(("qwiz_"==e?"div#qwiz"+t:"div.qcard_card-qdeck"+t)+" div.qwiz-provide_feedback").html();if(-1!=i.indexOf("<img")){var a=i.match(/<img src="blob:[^"]+/g);if(a){global_blob_urls=[],global_data_urls=[];for(var r=a.length,_=0;_<r;_++){a[_].length;global_blob_urls.push(a[_].substr(10))}qqc.get_blobs_as_data_urls(e,t,s,r,i,a)}else submit_feedback2(e,t,s,i)}else{if(qqc.is_only_tags_and_whitespace(i))return!1;submit_feedback2(e,t,s,i)}},this.remove_empty_opening_tags=function(e){return e=e.replace(/^\s*<(p|h\d)>\s*<\/(p|h\d)>/,"")},this.is_only_tags_and_whitespace=function(e){return-1==(e=(e=qqc.remove_tags_eols(e,!0)).replace(/&nbsp;|&ensp;|&emsp;|&thinsp;|&hairsp;/,"")).search(/\S/)},this.get_blobs_as_data_urls=function(e,t,s,i,a,r){i--;var _=new XMLHttpRequest;_.responseType="blob",_.onload=function(){var n=_.response,o=new FileReader;o.onload=function(){debug[0]&&console.log("[get_blobs_as_data_urls] i_do:",i,", reader.result.length:",o.result.length),global_data_urls.push(o.result),0==i?submit_feedback2(e,t,s,a,r):qqc.get_blobs_as_data_urls(e,t,s,i,a,r)},o.readAsDataURL(n)},_.open("GET",global_blob_urls[i]),_.send()},this.blob_data={},this.get_blob_as_data_url=function(e,t){debug[0]&&console.log("[get_blob_as_data_url] imageUrl:",t);const s=new FileReader;s.onloadend=()=>{const t=s.result;debug[0]&&(console.log("[get_blob_as_data_url] base64data.length:",t.length),console.log("[get_blob_as_data_url] base64data.substr (0, 50):",t.substr(0,50))),qqc.blob_data[e]=t},(async()=>{const e=await fetch(t),i=await e.blob();s.readAsDataURL(i)})()},this.submit_feedback_callback=function(e,t,s,i,a){var r=[];r.push("<p>"),r.push("<b>"+a+"</b>"),r.push("</p>"),i?(provide_feedback_html[s]="",r.push('<button class="qwiz_button" onclick="'+e+".no_login ("+t+', false, true)">'),r.push("Continue"),r.push("</button>")):(r.push('<button class="qwiz-smaller" onclick="'+e+".no_login ("+t+', false, true)">'),r.push("Back"),r.push("</button>")),qqc.$get_login_div(e,t).html(r.join("\n")).show()},this.cancel_provide_feedback=function(e,t){var s,i=$((s="qwiz_"==e?"div#qwiz"+t:"div.qcard_card-qdeck"+t)+" div.qwiz-provide_feedback");provide_feedback_html[s]=i.html(),provide_feedback_html[s].length>2e7&&alert("Please note: the images in your feedback are large. You may want to submit your comments so far before adding more images."),("qwiz_"==e?qwiz_:qcard_).no_login(t,!1,!0)},this.preview_iframe_close=function(){$("div#preview_iframe_wrapper").remove()},this.init_hide_show_password=function(e){$(e).hidePassword(!0,{states:{shown:{toggle:{className:"qwiz-hideShowPassword-toggle-hide"}},hidden:{toggle:{className:"qwiz-hideShowPassword-toggle-show"}}}})},this.create_register_taker_screen=function(e,t,s,i){register_taker_global_reg_code_ok_f=!1,register_taker_global_username="",register_taker_global_first_name="",register_taker_global_last_name="",register_taker_global_sha3_password="",register_taker_global_username_unique_f=!1,register_taker_global_email_unique_f=!1;var a=set_display_pay_screen(e,t),r=[],_="";i&&(r.push(i+"<br />"),/free/.test(i)&&(_="free")),r.push('<form name="register_taker_'+e+t+'" action="nada.php" onSubmit="return qwiz_qcards_common.register_taker (\''+e+"',"+t+", "+s+')">'),r.push('<table class="register_taker">'),"subscribe"!=a&&"free_trial"!=a&&"special_offer"!=a&&(r.push("<tr>"),r.push("<td>"),r.push("</td>"),r.push('<td colspan="2" class="register_taker_if_your_teacher" style="white-space: nowrap; font-weight: normal;">'),"signup"==a?(r.push("<i>Please enter the registration code you received"),r.push("from Mr. W on TikTok, Youtube, etc.")):"free_trial"!=a&&"special_offer"!=a&&(r.push("<i>Enter the registration code that your teacher gave you</i>"),r.push("<br />"),r.push("(Not in a class?&nbsp;Go"),r.push('<a href="https://learn-biology.com/signupforafreetrial">'),r.push("here</a>)")),r.push("</td>"),r.push("</tr>"),r.push("<tr>"),r.push("<td>"),r.push("</td>"),r.push("<td>"),r.push('<label for="reg_code">'),r.push("Registration code"),r.push("</label>"),r.push("</td>"),r.push("<td>"),r.push('<input type="text" class="register_taker_reg_code" onchange="qwiz_qcards_common.register_taker_check_reg_code (\''+e+"', "+t+', this.value)" onfocus="qwiz_qcards_common.register_taker_hide_error (\''+e+"', "+t+', this);"> <span class="qwiz-required">*</span>'),r.push('<div class="register_taker_reg_code_errmsg qwiz_errmsg"></div>'),r.push('<div class="register_taker_reg_code_class_name"></div>'),r.push("</td>"),r.push("</tr>"),r.push('<tr class="register_taker_please_continue_below">'),r.push("<td>"),r.push("</td>"),r.push('<td colspan="2" style="font-weight: normal;">'),"signup"==a&&r.push("<i>Please provide the following information.&nbsp;"),r.push("</td>"),r.push("</tr>")),r.push('<tr class="register_taker_login_name_exists">'),r.push("<td>"),r.push("</td>"),r.push('<td colspan="2">'),r.push("<i>This login name exists."),r.push("Either log in or choose another name</i>"),r.push("</td>"),r.push("</tr>"),r.push("<tr>"),r.push("<td>"),r.push("</td>"),r.push("<td>"),r.push('<label for="username">'),r.push("Login name"),r.push("</label>"),r.push("</td>"),r.push("<td>"),r.push('<input type="text" class="register_taker_username" onchange="qwiz_qcards_common.register_taker_check_unique (\''+e+"', "+t+", 'username')\" onblur=\"qwiz_qcards_common.register_taker_check_unique ('"+e+"', "+t+", 'username')\" onfocus=\"qwiz_qcards_common.register_taker_hide_error ('"+e+"', "+t+', this);" /> <span class="qwiz-required">*</span>'),r.push('<div class="register_taker_username_errmsg qwiz_errmsg"></div>'),r.push("</td>"),r.push("</tr>"),r.push('<tr class="register_taker_first_name_last_name">'),r.push("<td>"),r.push("</td>"),r.push("<td>"),r.push('<label for="first_name">'),r.push("First name"),r.push("</label>"),r.push("</td>"),r.push("<td>"),r.push('<input type="text" class="register_taker_first_name" onfocus="qwiz_qcards_common.register_taker_hide_error (\''+e+"', "+t+', this);" /> <span class="qwiz-required">*</span>'),r.push('<div class="register_taker_first_name_errmsg qwiz_errmsg"></div>'),r.push("</td>"),r.push("</tr>"),r.push('<tr class="register_taker_first_name_last_name">'),r.push("<td>"),r.push("</td>"),r.push("<td>"),r.push('<label for="last_name">'),r.push("Last name"),r.push("</label>"),r.push("</td>"),r.push("<td>"),r.push('<input type="text" class="register_taker_last_name" onfocus="qwiz_qcards_common.register_taker_hide_error (\''+e+"', "+t+', this);" /> <span class="qwiz-required">*</span>'),r.push('<div class="register_taker_last_name_errmsg qwiz_errmsg"></div>'),r.push("</td>"),r.push("</tr>"),r.push("<tr>"),r.push("<td>"),r.push("</td>"),r.push("<td>"),r.push('<label for="password">'),r.push("Password"),r.push("</label>"),r.push("</td>"),r.push("<td>"),r.push('<input type="password" class="register_taker_password" onchange="qwiz_qcards_common.register_taker_check_password_match (\''+e+"', "+t+')" onfocus="qwiz_qcards_common.register_taker_hide_error (\''+e+"', "+t+', this);" /> <span class="qwiz-required">*</span>'),r.push('<div class="register_taker_password_errmsg register_taker_confirm_password_errmsg qwiz_errmsg"></div>'),r.push("</td>"),r.push("</tr>"),r.push('<tr class="register_taker_confirm_password register_taker_confirm_password_email">'),r.push("<td>"),r.push("</td>"),r.push("<td>"),r.push('<label for="confirm_password">'),r.push("Confirm&nbsp;password"),r.push("</label>"),r.push("</td>"),r.push("<td>"),r.push('<input type="password" class="register_taker_confirm_password" onchange="qwiz_qcards_common.register_taker_check_password_match (\''+e+"', "+t+')" onfocus="qwiz_qcards_common.register_taker_hide_error (\''+e+"', "+t+', this);" /> <span class="qwiz-required">*</span>'),r.push("</td>"),r.push("</tr>"),r.push('<tr class="register_taker_email register_taker_confirm_password_email">'),r.push("<td>"),r.push("</td>"),r.push("<td>"),r.push('<label for="email">'),r.push("Email"),r.push("</label>"),r.push("</td>"),r.push("<td>"),r.push('<input type="text" class="register_taker_email" onchange="qwiz_qcards_common.register_taker_validate_email (\''+e+"', "+t+", '', true)\" onfocus=\"qwiz_qcards_common.register_taker_hide_error ('"+e+"', "+t+', this);" /> <span class="qwiz-required register_taker_email_required">*</span>'),r.push('<div class="register_taker_email_errmsg qwiz_errmsg"></div>'),r.push("</td>"),r.push("</tr>"),"subscribe"!=a&&"signup"!=a&&"free_trial"!=a&&"special_offer"!=a&&(r.push('<tr class="register_taker_email register_taker_confirm_password_email">'),r.push("<td>"),r.push("</td>"),r.push('<td colspan="2" style="line-height: 1;">'),r.push('<span class="qwiz-smaller qwiz-normal">'),r.push("Your email address is required since you haven&rsquo;t entered a registration code for a class.&nbsp;"),r.push("Your email is used for password reset.&nbsp; "),"free"==_&&r.push("We will encourage you to upgrade; you will have an option to unsubscribe."),r.push("</span>"),r.push("</td>"),r.push("</tr>")),r.push("</tr>"),r.push('<td colspan="2">'),r.push("</td>"),r.push("<td>"),r.push('<span style="float: right;">'),r.push('<span class="qwiz_button" style="font-size: 9pt !important;" onclick="'+e+".no_login ("+t+', false, true, event)">'),r.push("Cancel"),r.push("</span>"),r.push("&emsp;"),r.push('<span class="qwiz-required ">*</span>'),r.push('<span class="qwiz-smaller">required</span>'),r.push("</span>"),r.push('<button type="submit" class="qwiz_button">'),r.push('<span class="register_taker_login" style="font-size: 12pt !important;">'),r.push("Register"),r.push("</span>"),r.push("</button>"),r.push("<br />"),r.push('<span class="register_taker_forgot_password">'),"not ready"==server_loc&&(secure_server_loc=qqc.get_qwiz_param("secure_server_loc","https://host359.hostmonster.com/~whereisq/qwiz/admin")),r.push('<a href="'+secure_server_loc+'/password_reset_request" target="_blank">'),r.push("Forgot password?</a>"),r.push("</span>"),r.push("</td>"),r.push("</tr>"),r.push("<tr>"),r.push("<td>"),r.push("</td>"),r.push('<td colspan="2" class="register_taker_errmsg qwiz_errmsg">'),r.push("</td>"),r.push("</tr>"),r.push("</table>"),r.push("</form>"),qqc.$get_login_div(e,t).html(r.join("\n")).show();var n=qwiz_deck_selector(e,t);qqc.init_hide_show_password(n+"input.register_taker_password"),qqc.init_hide_show_password(n+"input.register_taker_confirm_password"),"subscribe"==a||"free_trial"==a||"special_offer"==a?($(n+".register_taker_email").show(),$(n+".register_taker_username").val("").focus()):"signup"==a?($(n+".register_taker_email").show(),$(n+".register_taker_reg_code").val("").focus()):$(n+".register_taker_reg_code").val("").focus()},this.register_taker_check_password_match=function(e,t){var s=qwiz_deck_selector(e,t);$(s+".register_taker_password_errmsg").hide();var i=$(s+"input.register_taker_confirm_password").val();if(""!=i){var a=$(s+".register_taker_password").val();""!=a&&a!=i&&$(s+".register_taker_password_errmsg").html("Password and Confirm password do not match").show()}},this.register_taker_check_reg_code=function(e,t,s){if(""==s){var i=qwiz_deck_selector(e,t);$(i+"tr.register_taker_first_name_last_name").show(),$(i+".register_taker_reg_code_class_name").html("").hide(),$(i+".register_taker_login_name_exists,"+i+"  .register_taker_forgot_password").hide(),$(i+"span.register_taker_login").html("Register"),$(i+"tr.register_taker_confirm_password_email").show(),$(i+"tr.register_taker_please_continue_below").show(),$(i+".register_taker_email_required, "+i+".register_taker_email").show(),register_taker_global_reg_code_ok_f=!1,qqc.register_taker_check_unique(e,t,"username")}else{var a={reg_code:s,callback:"register_taker_reg_code_ok_or_no"};register_taker_global_in_process_b=!0,qqc.qjax(e,t,"","check_reg_code",a)}return!1},this.set_immediate_payment=function(e,t){var s=!1;if(void 0===document_qwiz_immediate_payment){const i="04-16",a="06-01",r=DateFormat.format.date((new Date).getTime(),"MM-dd");r>=i&&r<a?s=!0:"qwiz_"==e&&(s=qwiz_.get_qwizdata(t,"immediate_payment")),document_qwiz_immediate_payment=s}else s=document_qwiz_immediate_payment;return s},this.register_taker_reg_code_ok_or_no=function(e){debug[0]&&console.log("[register_taker_reg_code_ok_or_no] data:",e),register_taker_global_reg_code_ok_f=1==e.num_rows;var t=qwiz_deck_selector(e.qname,e.i_qwiz);if(register_taker_global_reg_code_ok_f){$(t+".register_taker_if_your_teacher").hide(),$(t+"tr.register_taker_please_continue_below").hide(),$(t+"tr.register_taker_first_name_last_name").show();var s=set_display_pay_screen(e.i_qwiz);"qwiz_"==e.qname&&(s=qwiz_.get_qwizdata(e.i_qwiz,"display_pay_screen")),"signup"!=s&&$(t+".register_taker_email_required, "+t+".register_taker_email").hide(),register_taker_global_reg_code_maker_id=e.maker_id,register_taker_global_reg_code_school_id=e.school_id,register_taker_global_reg_code_class_id=e.class_id,register_taker_global_reg_code_class_name=e.class_name,register_taker_global_reg_code_school_name=e.school_name,$(t+".register_taker_reg_code_class_name").html("<b>Registration for class "+register_taker_global_reg_code_class_name+", "+register_taker_global_reg_code_school_name+"</b>").show()}else $(t+".register_taker_reg_code_errmsg").html("Could not find registration code").show(),$(t+".register_taker_reg_code_class_name").html("").hide();register_taker_global_in_process_b=!1},this.register_taker_check_unique=function(e,t,s){var i=qwiz_deck_selector(e,t),a=$(i+"input.register_taker_"+s).val();if(""!=a){if("username"==s&&/["\\;]/.test(a))return $(i+".register_taker_username_errmsg").html("Invalid characters").show(),!1;var r={field:s,value:a,callback:"register_taker_unique_or_no"};register_taker_global_in_process_b=!0,qqc.qjax(e,t,"","check_taker_name_email_unique",r)}return!1},this.register_taker_unique_or_no=function(e){debug[0]&&console.log("[register_taker_unique_or_no] data:",e);var t=qwiz_deck_selector(e.qname,e.i_qwiz),s=e.field,i=e.unique_f;if("username"==s)if(register_taker_global_username_unique_f=i,0==i){debug[0]&&console.log('[register_taker_unique_or_no] "username already in use"');var a="";"qwiz_"==e.qname&&(a=qwiz_.get_qwizdata(e.i_qwiz,"display_pay_screen")),register_taker_display_pay_screen=a&&("free_trial"!=a&&"special_offer"!=a||qqc.set_immediate_payment(e.qname,e.i_qwiz)),register_taker_global_reg_code_ok_f||register_taker_display_pay_screen?($(t+"tr.register_taker_confirm_password_email, "+t+"tr.register_taker_first_name_last_name").hide(),$(t+".register_taker_login_name_exists, "+t+".register_taker_forgot_password").show(),$(t+"span.register_taker_login").html("Log in"),$(t+".register_taker_password").focus()):($(t+".register_taker_username_errmsg").html("Login name already in use").show(),$(t+".register_taker_login_name_exists, "+t+".register_taker_forgot_password").hide(),$(t+"span.register_taker_login").html("Register"),$(t+"tr.register_taker_confirm_password_email").show())}else $(t+"span.register_taker_login").html("Register"),$(t+"tr.register_taker_first_name_last_name").show(),$(t+".register_taker_login_name_exists, "+t+".register_taker_forgot_password").hide(),register_taker_global_reg_code_ok_f||register_taker_display_pay_screen?"signup"==register_taker_display_pay_screen?$(t+"tr.register_taker_confirm_password_email").show():"register"!=register_taker_display_pay_screen||register_taker_global_reg_code_ok_f?$(t+"tr.register_taker_confirm_password").show():$(t+"tr.register_taker_confirm_password_email").show():$(t+"tr.register_taker_confirm_password_email").show(),$(t+".register_taker_first_name").focus();else register_taker_global_email_unique_f=i,0==i&&(debug[0]&&console.log('[register_taker_unique_or_no] "email already in use"'),$(t+".register_taker_email_errmsg").html("Email already in use").show());register_taker_global_in_process_b=!1},this.register_taker=function(e,t,s){debug[0]&&console.log("[register_taker] register_taker_global_in_process_b:",register_taker_global_in_process_b);var i=0,a=function(){if(register_taker_global_in_process_b){if(debug[0]&&console.log("[delay_register_taker] n_tries:",i),i>40)return alert("Sorry, unable to process request"),!1;i++,setTimeout(a,250)}else qqc.register_taker2(e,t,s)};return setTimeout(a,250),!1},this.register_taker2=function(e,t,s){debug[0]&&console.log("[register_taker2]");var i=!0,a=qwiz_deck_selector(e,t),r="";"free_trial"!=(o=set_display_pay_screen(e,t))&&"special_offer"!=o&&""==(r=(r=$(a+".register_taker_reg_code").val()).trim())&&($(a+".register_taker_reg_code_errmsg").html("Please enter registration code").show(),i=!1),""==(register_taker_global_username=$(a+".register_taker_username").val())&&($(a+".register_taker_username_errmsg").html("Please enter login name").show(),i=!1),/["\\;]/.test(register_taker_global_username)&&($(a+".register_taker_username_errmsg").html("Invalid characters").show(),i=!1);var _=$(a+".register_taker_password").val();""==_&&($(a+".register_taker_password_errmsg").html("Please enter password").show(),i=!1);var n=$(a+"input.register_taker_email").val();if(s||(s="qwiz_"==e?!qwiz_.get_qwizdata(t,"all_taker_options_free_b"):!qcard_.get_deckdata(t,"all_taker_options_free_b")),!register_taker_global_reg_code_ok_f&&!register_taker_display_pay_screen||1==register_taker_global_username_unique_f||""==register_taker_global_username){var o;if((i=i&&register_taker_global_username_unique_f)&&""!=register_taker_global_username&&!register_taker_global_username_unique_f&&($(a+".register_taker_username_errmsg").html("Login name already in use").show(),i=!1),""==(register_taker_global_first_name=$(a+".register_taker_first_name").val())&&($(a+".register_taker_first_name_errmsg").html("Please enter first name").show(),i=!1),""==(register_taker_global_last_name=$(a+".register_taker_last_name").val())&&($(a+".register_taker_last_name_errmsg").html("Please enter last name").show(),i=!1),!r||register_taker_global_reg_code_ok_f||register_taker_display_pay_screen||(i=!1,$(a+".register_taker_reg_code_errmsg").html("Could not find registration code").show()),"free_trial"!=(o=set_display_pay_screen(e,t))&&"special_offer"!=o||(s=!1),""==n?register_taker_global_reg_code_ok_f&&"signup"!=o||($(a+".register_taker_email_errmsg").html("Please enter email").show(),i=!1):register_taker_global_email_unique_f?i=qqc.register_taker_validate_email(e,t,i):($(a+".register_taker_email_errmsg").html("Email already in use").show(),i=!1),""!=_)_!=$(a+"input.register_taker_confirm_password").val()&&($(a+".register_taker_password_errmsg").html("Password and Confirm password do not match").show(),i=!1);r||"signup"!=o||($(a+".register_taker_reg_code_errmsg").html("Please enter registration code").show(),$(a+".register_taker_reg_code_class_name").html("").hide()),i?s||r||"free_trial"==o||"special_offer"==o||(i=confirm('You have not entered a registration code;\nyou will be an "independent student," not in a class.\n\nIs this OK?  If not, click "Cancel" and enter a code.')):"qcard_"==e&&qcard_.set_container_width_height(t)}if(register_taker_global_sha3_password=CryptoJS.SHA3(_).toString(),i){var c=(register_taker_global_reg_code_ok_f||register_taker_display_pay_screen)&&0==register_taker_global_username_unique_f?1:0;const i=qqc.set_immediate_payment(e,t);var d={login_f:c,reg_code:r,school_id:register_taker_global_reg_code_school_id,username:register_taker_global_username,firstname:register_taker_global_first_name,lastname:register_taker_global_last_name,sha3_password:register_taker_global_sha3_password,email:n,register_v2:"1",subscription:"1",payment_type_id:i?65:52,callback:"taker_registered"};s&&(d.proceed_to_pay_f="1"),document_qwiz_subscription_id&&(d.subscription_id=document_qwiz_subscription_id),debug[0]&&console.log("[register_taker2] data",d),qqc.qjax(e,t,"","new_student_registration",d)}return!1},this.register_taker_hide_error=function(e,t,s){var i=s.className,a=qwiz_deck_selector(e,t);$(a+"."+i+"_errmsg").hide(),$(a+".register_taker_errmsg").hide()},this.taker_registered=function(e){debug[0]&&(console.log("[taker_registered] data:",e),console.log("[taker_registered] register_taker_global_reg_code_ok_f:",register_taker_global_reg_code_ok_f,", register_taker_global_username_unique_f:",register_taker_global_username_unique_f),console.log("[taker_registered] register_taker_display_pay_screen:",register_taker_display_pay_screen));var t=e.errmsg,s="";if(t)s="login unsuccessful"==t?"Incorrect username/password.":"duplicate username"==t?"Login name is already in database.":"Unable to create account";else{const t=e.qname,s=e.i_qwiz;document_qwiz_user_logged_in_b=!0,document_qwiz_session_id=e.session_id,document_qwiz_username=register_taker_global_username,document_qwiz_school_id=e.school_id,document_qwiz_taker_id=e.taker_id,document_qwiz_email=e.email,document_qwiz_independent_taker_f=1==e.school_id;$.cookie("qwiz_session_id",document_qwiz_session_id,{path:"/",expires:1}),document_qwiz_remember_f=!0,qqc.set_user_menus_and_icons();var i="";if(e.add_and_provide_f){i=qqc.set_immediate_payment(t,s)?"<b>Thanks!&nbsp; You now have a Learn-Biology.com subscription.</b>":"<b>Thanks!&nbsp; You now have a free-trial subscription.</b>"}if(qwiz_&&qwiz_.any_pay_quiz_f&&qwiz_.pay_lock_settings(s,s,void 0,void 0,i),qcard_&&qcard_.any_pay_deck_f&&qcard_.pay_lock_settings(s,s,void 0,void 0,i),register_taker_global_reg_code_ok_f){e.login_f&&(register_taker_global_first_name=e.firstname,register_taker_global_last_name=e.lastname);var a={};a.First_name=[register_taker_global_first_name],a.Last_name=[register_taker_global_last_name];var r={userids:[document_qwiz_taker_id],usernames:[register_taker_global_username],passwords:[register_taker_global_sha3_password],custom_input_data:{input_field_names:["First_name","Last_name"],fields:a}};qqc.input_data_to_db(t,s,register_taker_global_reg_code_maker_id,register_taker_global_reg_code_school_id,register_taker_global_reg_code_class_id,register_taker_global_reg_code_class_name,r)}else register_taker_registered_feedback(e.qname,e.i_qwiz,!0,!1)}if(s){var _=qwiz_deck_selector(qname,i_qwiz);$(_+".register_taker_errmsg").html(s).show()}return!1},this.special_offer_callback=function(e){debug[0]&&console.log("[special_offer_callback] data:",e);var t="<br /><br />";t+=qqc.set_immediate_payment(e.qname,e.i_qwiz)?"<b>Thanks!&nbsp; You now have a Learn-Biology.com subscription.</b>":"<b>Thanks!&nbsp; You now have a new free-trial subscription.</b>";qqc.$get_login_div("qwiz_",e.i_qwiz).html(t)},this.register_taker_validate_email=function(e,t,s,i){var a=qwiz_deck_selector(e,t),r=$(a+"input.register_taker_email").val();if(""!=r){/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(r)?i&&qqc.register_taker_check_unique(e,t,"email"):($(a+".register_taker_email_errmsg").html("Not a valid email address").show(),s=!1)}return s},this.input_data_to_db=function(e,t,s,i,a,r,_){debug[0]&&console.log("[input_data_to_db] taker_data:",_);var n={};n.qname=e,n.i_qwiz=t,n.class_id=a,n.class_name=r,n.school_id=i,n.maker_id=s,n.taker_data=_,n.callback="register_taker_input_data_to_db_callback",debug[0]&&console.log("[input_data_to_db] data:",n),qwiz_qcards_common.qjax(e,t,"","new_class",n)},this.register_taker_input_data_to_db_callback=function(e){debug[0]&&console.log("[input_data_to_db_callback] data:",e),e.error_f?alert("Sorry, registration did not work"):register_taker_registered_feedback(e.qname,e.i_qwiz,!1)},this.check_promo_code=function(e,t){var s=$("#"+e+"promo_code"+t+" input").val();if(""!=s){var i={qname:e,promo_code:s,pay_quiz_deck_id:get_qwizdeckdata(e,t,"pay_quiz_deck_id")};qqc.qjax(e,t,"","check_promo_code",i)}return!1},this.check_promo_code2=function(e){debug[0]&&console.log("[check_promo_code2] data:",e);var t=e.qname,s=e.i_qwiz,i=$("p#"+t+"promo_code"+s);e.errmsg?(i.find("span.promo_code_errmsg").html("<br />"+e.errmsg),i.find("span.promo_code_okmsg").html("")):(qqc.set_qwizdeckdata(t,s,"promo_code",e.promo_code),"qwiz_"==t?qwiz_.pay_lock_settings(s,s):qcard_.pay_lock_settings(s,s))},this.clear_promo_code_msgs=function(e,t){$("p#"+e+"promo_code"+t+" span.promo_code_msg").html("")},this.submit_for_payment=function(e,t,s){debug[0]&&console.log("[submit_for_payment] qname:",e,", i_qwiz:",t,", form_el:",s);var i=get_qwizdeckdata(e,t,"pay_quiz_deck_id"),a=s.os0.selectedIndex;if(-1==a){var r=qwiz_deck_selector(e,t);return $(r+" div.signup_confirm_email_errmsg").html("Please choose a payment option").show(),!1}if(!document_qwiz_session_id){r=qwiz_deck_selector(e,t);return $(r+" div.signup_confirm_email_errmsg").html("Sorry, login session not set. Please refresh this page in your browser and try again, or contact support@qwizcards.com").show(),!1}var _=get_qwizdeckdata(e,t,"taker_payment_type_ids")[a],n=s.os0.value;if(pay_qwiz_qdeck_=e,pay_i_qwiz_deck=t,n<=0){var o={url:qqc.get_qwiz_param("url","./"),payment_type_id:_,qwiz_session_id:document_qwiz_session_id};"qwiz_"==e&&qwiz_.get_qwizdata(t,"display_pay_screen")&&(o.no_alert=1);r=qwiz_deck_selector(e,t);var c=$(r+" input.signup_confirm_email").val();return c||(c=0),o.confirm_email_code=c,qqc.jjax(e,t,"","create_paypal_authorization",o),!1}var d={m:0,pid:i,ptid:_,sid:document_qwiz_session_id,url:qqc.get_qwiz_param("url","./")};return debug[0]&&console.log("[submit_for_payment] custom_data:",d),s.custom.value=btoa(JSON.stringify(d)),!0},this.create_maker_pay_screen=function(e,t,s,i){var a=qqc.$get_login_div(e,s),r=[];if(t[s].pay_errmsg)r.push("<strong>"+t[s].pay_errmsg+"</strong><br />");else{i&&r.push("<strong>"+i+"</strong><br />");var _=t[s].maker_payment_type_ids.length;r.push('<form action="https://www.paypal.com/cgi-bin/webscr" onSubmit="return qwiz_qcards_common.submit_for_payment (\''+e+"', "+s+', this)" method="post" target="_blank">'),r.push('<input type="hidden" name="cmd" value="_s-xclick">'),r.push('<input type="hidden" name="hosted_button_id" value="QK2XZUEFF9RNS">'),r.push('<table class="pay_options">'),r.push("<tr>"),r.push("<td>"),r.push('<input type="hidden" name="on0" value="Options">'),_>1&&r.push("Please choose:"),r.push("</td>"),r.push("</tr>"),r.push("<tr>"),r.push("<td>"),r.push('<select name="os0" class="qwiz_paypal_select">');for(var n=0;n<_;n++){var o=t[s].maker_fees[n],c=t[s].maker_good_for_n_periodss[n],d=t[s].maker_good_for_periods[n],l=t[s].maker_payment_descriptions[n],u=qqc.currency(o)+" "+qqc.number_to_word(c)+" "+qqc.plural(d,d+"s",c);l&&(u+=" - "+l),r.push('<option value="'+o+'">'),r.push(u),r.push("</option>")}r.push("</select> "),r.push("</td>"),r.push("</tr>"),r.push("</table>"),r.push('<input type="hidden" name="currency_code" value="USD">'),r.push('<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_paynowCC_LG.gif" style="border: none;" name="submit" alt="PayPal - The safer, easier way to pay online!">'),r.push('<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">'),r.push('<input type="hidden" name="custom">'),r.push("</form>")}a.html(r.join("\n")).show()},this.submit_for_maker_payment=function(e,t,s){debug[0]&&console.log("[submit_for_maker_payment] qname:",e,", i_qwiz:",t,", form_el:",s);var i=get_qwizdeckdata(e,t,"pay_quiz_deck_id"),a=s.os0.selectedIndex,r={m:1,pid:i,ptid:get_qwizdeckdata(e,t,"maker_payment_type_ids")[a],sid:qqc.maker_session_id,url:qqc.get_qwiz_param("url","./")};return debug[0]&&console.log("[submit_for_maker_payment] custom_data:",r),s.custom.value=btoa(JSON.stringify(r)),pay_qwiz_qdeck_=e,pay_i_qwiz_deck=t,!0},this.payment_received=function(e,t,s,i){if(debug[0]&&console.log("[payment_received] no_set_f:",e,", confirm_email_errmsg:",i),i){var a=qwiz_deck_selector(t,s);return $(a+" div.signup_confirm_email_errmsg").html(i).show(),!1}(e?(pay_qwiz_qdeck_=t,pay_i_qwiz_deck=s):(document_qwiz_email_confirm=1,qwiz_&&qwiz_.any_pay_quiz_f&&("qwiz_"==t&&qwiz_.get_qwizdata(s,"display_pay_screen")&&(payment_received_f=!0),qwiz_.pay_lock_settings()),qcard_&&qcard_.any_pay_deck_f&&qcard_.pay_lock_settings()),"qwiz_"==pay_qwiz_qdeck_)?($("#qwiz_login-qwiz"+pay_i_qwiz_deck).hide(),-1==qwiz_.get_qwizdata(pay_i_qwiz_deck,"i_question")?($(".intro-qwiz"+pay_i_qwiz_deck).show(),qwiz_.position_show_next_button(pay_i_qwiz_deck)):qwiz_.login_ok_start_quiz(pay_i_qwiz_deck)):($("#qdeck_login-qdeck"+pay_i_qwiz_deck).hide(),qcard_.login_ok_start_deck(pay_i_qwiz_deck))},this.registration_complete=function(e,t,s,i){debug[0]&&console.log("[registration_complete] qname:",e,", i_qwiz:",t,", session_id:",s,", username:",i),document_qwiz_session_id=s,document_qwiz_username=i,document_qwiz_school_id=1,document_qwiz_independent_taker_f=1,("qwiz_"==e?qwiz_:qcard_).login_ok(t,s,0)},this.maker_login_registration_complete=function(e,t,s,i){debug[0]&&console.log("[maker_login_registration_complete] qname:",e,", i_qwiz:",t,", maker_session_id:",s,", username:",i),qqc.maker_session_id=s;$.cookie("maker_session_id",s,{path:"/",expires:1}),("qwiz_"==e?qwiz_:qcard_).hide_menu_and_display_login(t,!1,"maker_pay"),setTimeout((function(){alert("Admin registration/login successful")}),250)},this.set_login_expiry=function(){debug[0]&&console.log("[set_login_expiry]"),clearTimeout(document_qwiz_login_timeout),document_qwiz_login_timeout=setTimeout("qwiz_qcards_common.login_expired ()",864e5)},this.login_expired=function(){document_qwiz_user_logged_in_b=!1,qqc.set_user_menus_and_icons(),qwiz_&&qwiz_.any_pay_quiz_f&&qwiz_.pay_lock_settings(),qcard_&&qcard_.any_pay_deck_f&&qcard_.pay_lock_settings(),document_qwiz_pay_registration_date_unix=0;setTimeout((function(){document_qwiz_wp_user_session_id?alert(qqc.T("Score-recording authentication expired.  Please re-load this page")):alert(qqc.T("Qwizcards login session expired.  Please log in again"))}),20)},this.is_mobile=function(e){var t;return document_qwiz_force_mobile_f||(t="Disabled"!=e&&(window.innerWidth<961||window.innerHeight<450)),t},this.set_force_mobile=function(){parent!==window&&-1!=document.location.href.search(/(localhost|192.168.1.120|qwizcards.com|swinginghotspot.com)\/u\//)&&(document_qwiz_force_mobile_f=!0)},this.process_textentry_terms=function(e){debug[0]&&console.log("process_textentry_terms] data:",e.substr(0,50),"..."),terms={singular:[],plural:[]};for(var t=e.split(/\n|;/),s=t.length,i=0;i<s;i++){var a,r,_=t[i];if(-1!=_.search(/\S/)){var n=_.indexOf("/");if(-1==n){a=_;var o=_.length-1,c=_[o],d=_.substr(o-1);r="es"==d?_:"y"==c?_.substr(0,o)+"ies":"s"==c||"sh"==d||"ch"==d?_+"es":"x"==c?_:_+"s"}else a=_.substr(0,n),r=n==_.length-1?_.substr(0,n):_.substr(n+1);terms.singular.push([a,qqc.metaphone(a)]),terms.plural.push([r,qqc.metaphone(r)])}}return terms},this.process_inline_textentry_terms=function(e,t,s,i){s.additional_errmsgs=[];var a=extract_delete_shortcode_content(e,t,"add_terms"==t,s);if("NA"==a.content)return e;for(var r=[a.content],_=new RegExp('<a.*?href="([^"]*)"[\\s\\S]*?<\\/a>',"m");;){var n=r[0].match(_);if(!n)break;var o=n[1],c=qqc.get_textentry_terms(o,s);c&&(".txt"!=o.substr(o.length-4)||-1!=c.indexOf("[terms]")?(r_remote=extract_delete_shortcode_content(c,"terms",!1,s),"NA"==r_remote.content?s.additional_errmsgs.push(qqc.T("Did not find [terms]...[/terms] shortcode pair in file")+" "+o):r.push(r_remote.content)):r.push(c)),r[0]=r[0].replace(_,"")}return r=(r=r.join("")).replace(/<[^>]+>|&nbsp;/g,"\n"),s[i][t]=r,a.htm},this.sort_dedupe_terms_metaphones=function(e){var t=window.navigator.userLanguage||window.navigator.language;e.sort((function(e,s){return e[0].toLowerCase().localeCompare(s[0].toLowerCase(),t,{numeric:!0})}));for(var s=[e[0]],i=e.length,a=1;a<i;a++)e[a][0]!=e[a-1][0]&&s.push(e[a]);return s},this.get_textentry_terms=function(e,t){debug[0]&&console.log("[get_textentry_terms] terms_url:",e);var s=!1,i="";return $.ajax({type:"GET",async:!1,url:e,dataType:"text",error:function(i,a){t.additional_errmsgs.push(qqc.T("Could not read terms file")+": "+e),s=!0},success:function(e){i=e}}),s||i||t.additional_errmsgs.push(qqc.T("No data read from terms file")+": "+e),i},this.create_hangman_entry=function(e){var t='<span class="qwiz-hairsp"></span>',s=0;e&&(s=e.length);for(var i=[],a=0;a<s;a++)e[a].match(/[a-z0-9]/i)?i.push("<u>"+e[a]+"</u>"+t):" "==e[a]?i.push("&ensp;"+t):i.push(e[a]+t);e=i.join("");return debug[9]&&console.log("[create_hangman_entry] entry:",e),e},this.create_hangman_incorrect_chars_display=function(e,t,s){var i=e.length,a=[];0==t?a.push('<span class="hangman_incorrect_letters_exceeded inline-block entry">'):a.push('<span class="hangman_incorrect_letters_allowed inline-block entry">');for(var r=s?12:i,_=0;_<r;_++){var n=_<i?e[_]:'<span class="qwiz_spacer">x</span>';a.push(n),_+1==t&&a.push('</span><span class="hangman_incorrect_letters_exceeded inline-block entry">')}return a.push("</span>"),a="Incorrect: "+a.join("")},this.setCharAt=function(e,t,s){return t>e.length-1?e:e.substr(0,t)+s+e.substr(t+1)},this.make_inline=function(e,t){var s=e.substr(t),i=s.match(/<[hp][^>]*>/)[0],a=i[1];"h"==a&&(a+=i[2]);var r=qqc.add_attr_value("style","display: inline;",i);debug[9]&&console.log("[make_inline] new_tag:",r);var _=s.replace(i,r),n="</"+a+">";-1!=(_=r.replace(a,"div")+_).search(n)?_=_.replace(n,n+"</div>"):_+="</div>";var o="</"+a+">";return r="<"+a+' style="display: inline;">',e=(e=e.substr(0,t)+_).replace(/\[hangman[^\]]*\]/,o+"$&"+r),debug[9]&&console.log("[make_inline] htm:",e),e},this.add_attr_value=function(e,t,s){var i=new RegExp(e+"\\s*=\\s*[\"']","im"),a=s.match(i);return a?-1==s.search(t)&&(s=s.replace(i,a[0]+t+" ")):s=s.replace(">"," "+e+'="'+t+'">'),debug[0]&&console.log("[add_attr_value] attributes:",s),s},this.remove_tags_eols=function(e,t){return e&&(t&&(e=e.replace(/<img/g,"xXximg")),e=qqc.trim(e.replace(/<[^>]+>/g,"").replace(/\n|&nbsp;/g," ").replace(/ {2,}/g," ")),t&&(e=e.replace(/xXximg/g,"<img"))),e},this.q_and_a_hash=function(e){return e.length>200&&(e=e.substr(0,184)+"CRC32:"+qwiz_crc32(e)),e},this.init_enter_intercept=function(){init_enter_intercept_f||(init_enter_intercept_f=!0,$("html").on("keydown",(function(e){if(document_active_qwiz_qdeck&&13==e.keyCode){debug[7]&&(console.log("[init_enter_intercept] document_active_qwiz_qdeck:",document_active_qwiz_qdeck),console.log("[init_enter_intercept] e.target:",e.target));var t=e.target.tagName.toLowerCase();if("input"==t||"textarea"==t)if(-1==(i=e.target.id.toLowerCase()).indexOf("qwiz")&&-1==i.indexOf("qdeck"))return;if(-1!=e.target.className.indexOf("user_html"))if(-1==(i=e.target.id.toLowerCase()).indexOf("qwiz")&&-1==i.indexOf("qdeck"))return;var s=$(document_active_qwiz_qdeck);if(-1==document_active_qwiz_qdeck.className.toLowerCase().indexOf("qcard_window"))if(s.find("div.next_button").is(":visible"))debug[7]&&(console.log("[init_enter_intercept] qwiz next_button trigger"),console.log("[init_enter_intercept] $document_active_qwiz_qdeck.find ('div.next_button button'):",s.find("div.next_button button"))),s.find("div.next_button button").trigger("click");else if(s.find("div.textentry_check_answer_div").is(":visible")){debug[7]&&console.log("[init_enter_intercept] qwiz call text_entry_check_answer ()");var i=document_active_qwiz_qdeck.id,a=parseInt(i.substr(4),10);qwiz_.textentry_check_answer(a)}else s.find("button.login_button").is(":visible")?(debug[7]&&console.log("[init_enter_intercept] qwiz login_button trigger"),s.find("div.qwiz-login button.login_button").trigger("click")):s.find("button.begin_practice").is(":visible")?(debug[7]&&console.log("[init_enter_intercept] qwiz begin_practice trigger"),s.find("div.qwiz-login button.begin_practice").trigger("click")):s.find(".exit_progress_bars").is(":visible")&&(debug[7]&&console.log("[init_enter_intercept] qwiz exit_progress_bars trigger"),s.find("div.qwiz-login button.exit_progress_bars").trigger("click"));else if(!qcard_.qwizard_b){if(-1!=e.target.className.indexOf("flip"))return;s.find("button.login_button").is(":visible")?(debug[7]&&console.log("[init_enter_intercept] qdeck login_button trigger"),s.find("button.login_button").trigger("click")):s.find("button.begin_practice").is(":visible")?(debug[7]&&console.log("[init_enter_intercept] qdeck begin_practice trigger"),s.find("div.button.begin_practice").trigger("click")):s.find(".exit_progress_bars").is(":visible")?(debug[7]&&console.log("[init_enter_intercept] qdeck exit_progress_bars trigger"),s.find(".exit_progress_bars").trigger("click")):s.find("div.qcard_next_buttons button.flip.qwiz_button").length&&(debug[7]&&(console.log("[init_enter_intercept] qdeck Check answer trigger"),console.log("[init_enter_intercept] find:",s.find("div.qcard_next_buttons button.flip"))),s.find("div.qcard_next_buttons button.flip").trigger("click"))}}})))},this.$get_login_div=function(e,t){var s;return"qwiz_"==e?(s="#qwiz_login-qwiz"+t,$("#progress-qwiz"+t).html("")):(s="div.qcard_card-qdeck"+t+" div.qcard-front div.qcard_content_size",$("#progress-qdeck"+t).html("")),$(s)},this.get_attr=function(e,t){var s="",i=new RegExp("(\\s|^)"+t+'\\s*=\\s*("([^"]+)")*',"m"),a=e.match(i);return a&&a[3]&&(s=qqc.trim(a[3])),s},this.opening_tag_shortcode_pos=function(e,t){e=e.replace(/([\[\]\*])/g,"\\$1");var s=new RegExp("(<[^\\/][^>]*>\\s*)*?"+e+"[\\s\\S]*"),i=t.search(s);if(-1==i)i=t.length;else{var a=new RegExp(e),r=t.search(a),_=!1,n=t.substring(i,r).lastIndexOf("<img");-1!=n&&(i+=n+3,_=!0);var o=t.substring(i,r).lastIndexOf("<input");-1!=o&&(i+=o+3,_=!0);var c=t.substring(i,r).lastIndexOf('<span class="qwizard_placeholder">');-1!=c&&(i+=c+3,_=!0);var d,l=t.substring(i,r).lastIndexOf("<br");if(-1!=l&&(i+=l+3,_=!0),-1!=(d=t.substring(i,r).lastIndexOf("<video"))&&(i+=d+3,_=!0),-1!=(d=t.substring(i,r).lastIndexOf("<iframe"))&&(i+=d+3,_=!0),_)i+=t.substr(i).search(s)}return i},this.replace_smart_quotes=function(e){var t=e.replace(/[\u201C\u201D\u2033\u00AB\u00BB]/gm,'"');return t=(t=(t=t.replace(/[\u2018\u2019]/gm,"'")).replace(/&nbsp;|\u000A0/gm," ")).replace(/&ndash;|\u2013/gm,"-")},this.balance_closing_tag=function(e){var t=e.search(/<\/[ph]/);if(-1!=t){var s,i=e.substr(t+2,2);s=">"==i.substr(1)?"<p":"<"+i;var a=new RegExp(s),r=e.search(a);(-1==r||r>t)&&(e=s+">"+e)}return e},this.remove_unmatched_tag=function(e,t,s){var i=e,a=e.split(/(<[ph][^>]*>[^]*?<\/[ph][^>]*>)/),r=a.length,_=a[r-1],n=_.replace(/<\/{0,1}[ph][^>]*>/g,""),o=!0;if(-1!=_.search(/<\/{0,1}[ph]/)&&!(s&&-1==_.search(/<[ph]/)||t&&-1==_.search(/<[ph]/)||-1==n.search(/\S/))){var c=new RegExp(/<[ph][^>]*>/),d=_.match(c),l="<p>",u=-1;if(d)l=d[0],u=_.search(c);else if(r>1){(d=a[r-2].match(c))&&(l=d[0])}if(-1!=u){var p,h=new RegExp(/<\/{0,1}([ph][^>\s]*)/);l?p=l.match(h)[1]:l="<"+(p=_.match(h)[1])+">";var g,q="</"+p+">",m=_.split(c,2);sub_piece1=m[0].replace(/<\/{0,1}[ph][^>]*>/g,""),sub_piece2=m[1].replace(/<\/{0,1}[ph][^>]*>/g,""),g=-1!=l.search("class")?l.replace(/class\s*=\s*"/,'class="qwiz-inline '):"<"+p+' class="qwiz-inline">',sub_piece1=add_span_if_empty(sub_piece1),sub_piece2=add_span_if_empty(sub_piece2),sub_piece1&&(sub_piece1=g+sub_piece1+q),sub_piece2&&(sub_piece2=g+sub_piece2+q),n=sub_piece1,sub_piece1&&sub_piece2&&(n+=l+add_span_if_empty("",!0)+q),n+=sub_piece2,o=!1}}return o&&(n='<p class="qwiz-inline">'+add_span_if_empty(n,!0)+"</p>"),e=a.slice(0,r-1).join("")+n,debug[0]&&e!=i&&(console.log("[remove_unmatched_tag] part_orig:",i),console.log("[remove_unmatched_tag] part:     ",e)),e},this.number_to_word=function(e){return number_word||(number_word=[qqc.S("zero"),qqc.S("one"),qqc.S("two"),qqc.S("three"),qqc.S("four"),qqc.S("five"),qqc.S("six"),qqc.S("seven"),qqc.S("eight"),qqc.S("nine"),qqc.S("ten")]),e>10?e.toString():number_word[e]},this.number_to_ordinal_word=function(e,t){var s;if(ordinal_words||(ordinal_words=[qqc.T("zeroth"),qqc.T("first"),qqc.T("second"),qqc.T("third"),qqc.T("fourth"),qqc.T("fifth"),qqc.T("sixth"),qqc.T("seventh"),qqc.T("eighth"),qqc.T("ninth"),qqc.T("tenth"),qqc.T("eleventh"),qqc.T("twelfth"),qqc.T("thirteenth")]),e<14)s=ordinal_words[e];else{var i=e%10;s=1==i?e+"st":2==i?e+"nd":3==i?e+"rd":e+"th"}return t&&(s=qqc.capitalize(s)),s},this.capitalize=function(e){return e=e.substr(0,1).toUpperCase()+e.substr(1)},this.plural=function(e,t,s){return 1==s?e:t},this.S=function(e){return qqc.T(e)},this.T=function(e){var t="";return"undefined"!=typeof qwiz_params?void 0!==qwiz_params.T&&(e=htmlDecode(e),void 0!==qwiz_params.T[e]&&(t=qwiz_params.T[e])):"undefined"!=typeof qwizzled_params&&void 0!==qwizzled_params.T&&(e=htmlDecode(e),void 0!==qwizzled_params.T[e]&&(t=qwizzled_params.T[e])),""==t&&(t=e),t},this.currency=function(e){if(0==e)return"$0.00";var t=""+parseInt(100*e+.5,10),s=t.length;return"$"+t.substr(0,s-2)+"."+t.substr(s-2)},this.get_qwiz_param=function(e,t){var s="";return"undefined"!=typeof qwiz_params?void 0!==qwiz_params[e]&&(s=qwiz_params[e]):"undefined"!=typeof qwizzled_params&&void 0!==qwizzled_params[e]&&(s=qwizzled_params[e]),s||null!=t&&(s=t),s},this.trim=function(e){return e&&(e=e.toString(),e="a".trim?e.trim():e.replace(/^\s+|\s+$/g,"")),e},this.add_script=function(e){var t=document.createElement("script");t.setAttribute("charset","utf-8"),t.src=e;var s=[];try{s=$("head")}catch(e){}s.length?s.append(t):$("body").append(t)},this.dataset_units_topics_toggle_all=function(e){$(e).parents("table.dataset_units_topics").find("input:checkbox").prop("checked",e.checked),e.checked?$(e).attr("checked",!0):$(e).removeAttr("checked")},this.dataset_unit_toggle_topics=function(e){var t=$(e).parents("tr.unit_head").attr("id").match(/-unit([0-9]+)/)[1];$(e).parents("table.dataset_units_topics").find("tr.unit_topic"+t+" input:checkbox").prop("checked",e.checked),e.checked?$(e).attr("checked",!0):$(e).removeAttr("checked")};var n_dataset_units_expanded=[];function filter_maker_specific_questions_cards(e,t){var s=e.split("[qQq]"),i=[],a={};for(var r of s){var _="",n="",o=r.match(/\[(<code><\/code>)*q\s*([^\]]*)\]/gm);if(o&&o.length){var c=o[0];c=qqc.replace_smart_quotes(c),_=qqc.get_attr(c,"unit"),n=qqc.get_attr(c,"topic")}_||(_="Other"),n||(n="Other");var d=_+"__"+n;void 0===a[d=d.replace(/[^a-z0-9 ]/gi,"_")]&&(a[d]=0),(void 0===maker_specific_n_qs_by_unit_topic||void 0===maker_specific_n_qs_by_unit_topic[d]||a[d]<maker_specific_n_qs_by_unit_topic[d])&&(i.push(r),a[d]++)}const l=i.length;if(t<l){const e=l-t;for(var u=0;u<e;u++){const e=i.length,t=Math.floor(Math.random()*e);i.splice(t,1)}}return i.join("")}function insert_dataset_questions(e,t,s){for(var i=t.split("[qQq]"),a=i.length,r={},_=0;_<a;_++){r[parse_dataset_question_ids(i[_],"dataset_id")[0]]=_}var n=e.match(/\[q[^\]]* use_dataset_(question|card)\s*=\s*\S[^\]]+/g);a=n.length;for(ii=0;ii<a;ii++){_=r[qqc.replace_smart_quotes(n[ii]).match(/use_dataset_[^"]+"([^"]+)/)[1]];e=e.replace(/\[q([^\]]* )use_dataset_(question|card)\s*=\s*[^\]]+\]/,i[_])}var o="qwiz_"==s?"use_dataset_question":"use_dataset_card";return e=e.replace(/dataset_id/g,o)}function parse_dataset_question_ids(e,t){var s=new RegExp(t+"\\s*=\\s*\\S[^\\]]+","g"),a=e.match(s),r=a.length,_=[];for(i=0;i<r;i++){var n=qqc.replace_smart_quotes(a[i]).match(/"([^"]+)/)[1];_.push(n)}return _}function start_dataset_questions_countdown(e,t,s,i,a,r){var _=$("#dataset_questions_countdown_display-"+e+t),n=31,o=function(){if(--n>0){var c=qqc.T("Trying for")+" "+n+" "+qqc.T("more")+" "+qqc.plural(qqc.T("second"),qqc.T("seconds"),n)+"...";_.html(c),dataset_questions_countdown_timeout[e+t]=setTimeout(o,1e3)}else{$("#dataset_questions_spinner-"+e+t).css({visibility:"hidden"});var d="qwiz_"==e?qqc.T("questions"):qqc.T("cards");c=qqc.T("Sorry, could not get")+" "+d+'<br /><br /><button class="qwiz_button begin_practice" onclick="qwiz_qcards_common.begin_dataset_quiz_deck (\''+qqc.addSlashes(s)+"', '"+e+"', "+t+", '"+i+"', "+a+", '"+r+"')\">"+qqc.T("Try again")+"</button>";_.html(c),dataset_questions_countdown_timeout[e+t]="fail"}};o()}function get_qwizdeckdata(e,t,s){return"qwiz_"==e?qwiz_.get_qwizdata(t,s):qcard_.get_deckdata(t,s)}function parse_html_block_pattern(e){var t="("+e.join(")|(")+")";return t="(("+(t=t.replace(/([\[\]\*])/g,"\\$1"))+")\\s*)"}function select_text(e){if(document.body.createTextRange)(t=document.body.createTextRange()).moveToElementText(e),t.select();else if(window.getSelection){var t,s=window.getSelection();(t=document.createRange()).selectNodeContents(e),s.removeAllRanges(),s.addRange(t)}}function decodeHtmlEntities(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(t)}))}this.dataset_unit_expand_collapse=function(e,t,s){$icon_el=$(s);var i=$icon_el.parents("tr.unit_head").attr("id").match(/-unit([0-9]+)/)[1],a=$icon_el.parents("table.dataset_units_topics").find("tr.unit_topic"+i);$icon_el.hasClass("expand")?($icon_el.removeClass("expand").addClass("collapse").attr("src",icon_collapse_src),a.show(),void 0===n_dataset_units_expanded[t]?n_dataset_units_expanded[t]=1:n_dataset_units_expanded[t]++,$icon_el.parents("table.dataset_units_topics").find("span.topics_header").css({visibility:"visible"}),$icon_el.parents("table.dataset_units_topics").find("span.units_header").css({"vertical-align":"top"})):($icon_el.removeClass("collapse").addClass("expand").attr("src",icon_expand_src),a.hide(),n_dataset_units_expanded[t]--,0==n_dataset_units_expanded[t]&&($icon_el.parents("table.dataset_units_topics").find("span.topics_header").css({visibility:"hidden"}),$icon_el.parents("table.dataset_units_topics").find("span.units_header").css({"vertical-align":"bottom"}))),"qcard_"==e&&qcard_.set_container_width_height(t)},this.begin_dataset_quiz_deck=function(e,t,s,i,a,r,_,n,o){var c=[],d=[],l=$("#dataset_units_topics-"+t+s+" tr.unit_topic");if(l.length?l.each((function(){if($(this).find("input:checkbox").prop("checked")){var e=atob($(this).data("unit")),t=atob($(this).find("td.topic").data("topic"));c.push(qqc.trim(e)),d.push(qqc.trim(t)),$(this).prev("tr.unit_head").find("input:checkbox").prop("checked",!0)}})):(c.push("Other"),d.push("Other")),debug[11]&&(console.log("[begin_dataset_quiz_deck] selected_units:",c),console.log("[begin_dataset_quiz_deck] selected_topics:",d)),0==c.length)return alert(qqc.T("Please select at least one unit/topic")),!1;$("#dataset_units_topics-"+t+s+" input:checkbox").each((function(){var e=$(this);e.prop("checked")?e.attr("checked",!0):e.removeAttr("checked")}));var u=qqc.$get_login_div(t,s);use_dataset_options_html[t+s]=u.html(),qqc.set_qwizdeckdata(t,s,"use_dataset_options_html",use_dataset_options_html[t+s]);var p=$("#dataset_reset_questions_date_"+t+s).val();p==n&&(p=""),r||(r=$("#dataset_max_q_"+t+s).val()),_||(_=$('input[name="spaced_repetition"]:checked').val()),o||(o=0);var h=get_qwizdeckdata(t,s,"random_b");i&&document_qwiz_user_logged_in_b||r<a&&(h=!0),qqc.get_dataset_questions(e,t,s,i,c,d,r,_,h,!1,!1,p,o,a)},this.get_dataset_questions=function(e,t,s,i,a,r,_,n,o,c,d,l,u,p){if(!c){var h="qwiz_"==t?"questions":"cards";plugin_url||(plugin_url=qqc.get_qwiz_param("url","./"));var g='<div id="dataset_questions_spinner-'+t+s+'" style="margin-top: 100px;" >Getting '+h+' from Qwizcards server...<br /><img src="'+(plugin_url+"images/spinner40x40.gif")+'" class="qwiz-center" /><br /></div><p id="dataset_questions_countdown_display-'+t+s+'" style="text-align: center;"></p>';qqc.$get_login_div(t,s).html(g).show();dataset_questions_countdown_timeout[t+s]=setTimeout((function(){start_dataset_questions_countdown(t,s,e,i,_,n)}),5e3)}var q="";void 0!==document_qwiz_session_id&&(q=document_qwiz_session_id);var m=window.location.href,w="qwiz_"==t&&qwiz_.wordpress_page_f?1:0,f={action:"get_dataset_questions",dataset:e,qname:t,i_qwiz_qdeck:s,units:a,topics:r,n_questions_in_set:_,questions_to_do:n,random_f:0,qf_f:w,qwiz_session_id:q,page_url:m};if(c){var b=parse_dataset_question_ids(c,"qwiz_"==t?"use_dataset_question":"use_dataset_card");f.use_dataset_question_ids=b,f.maker_session_id="qwiz_"==t&&qwiz_.qwizard_b?qwizzled.maker_session_id:0}d&&(f.no_display_f=1),l&&(f.dataset_reset_questions_date=l),u&&(f.maker_specific_questions_cards=u),p&&(f.n_qs=p);var v=qqc.get_qwiz_param("ajaxurl","");debug[11]&&(console.log("[get_dataset_questions] data:",f),console.log("[get_dataset_questions] local_ajaxurl:",v)),v?(f.qrecord_id=i,$.ajax({type:"POST",url:v,data:f,success:qqc.receive_and_place_dataset_questions})):(f.callback="receive_and_place_dataset_questions",qqc.qjax(t,s,i,"get_dataset_questions_v3",f))},this.receive_and_place_dataset_questions=function(response){if(debug[11]&&console.log("[receive_and_place_dataset_questions] response:",response),response){var dataset=response.dataset,ok_f=response.ok_f,qname=response.qname,i_qwiz_qdeck=response.i_qwiz_qdeck,no_display_f=response.no_display_f,n_questions_in_set=response.n_questions_in_set,maker_specific_questions_cards=response.maker_specific_questions_cards,n_qs=parseInt(response.n_qs);if("fail"!=dataset_questions_countdown_timeout[qname+i_qwiz_qdeck]){if(response.cv_index&&qwiz_.set_qwizdata(i_qwiz_qdeck,"cv_index",response.cv_index),response.rvt&&(qwiz_.set_qwizdata(i_qwiz_qdeck,"random_b",!0),qwiz_.set_qwizdata(i_qwiz_qdeck,"repeat_incorrect_b",!1)),0==ok_f){var errmsg=response.errmsg;if(errmsg){if(qqc.isInteger(errmsg)){var beg_time_unix=errmsg,beg_date=DateFormat.format.date(1e3*beg_time_unix,"h:mm a");errmsg="Test will be available at "+beg_date+'<br /><br /><button class="qwiz_button" onclick="'+qname+".next_question ("+i_qwiz_qdeck+')"><span id="next_button_text-qwiz'+i_qwiz_qdeck+'">'+qqc.T("Start quiz")+"</span></button>\n"}else if("Quiz completed"==errmsg||"Quiz not available"==errmsg||"Quiz no longer available"==errmsg){var dataset_intro_f=qwiz_.get_qwizdata(i_qwiz_qdeck,"dataset_intro_f");if((!dataset_intro_f||"topics_only"==dataset_intro_f)&&dataset)return"Quiz not available"==errmsg&&(errmsg+='</span><br /><button class="qwiz_button" onclick="'+qname+".next_question ("+i_qwiz_qdeck+')"><span id="next_button_text-qwiz'+i_qwiz_qdeck+'">'+qqc.T("Try again")+"</span></button><span>\n"),qwiz_.set_qwizdata(i_qwiz_qdeck,"dataset_intro_f","topics_only"),qwiz_.set_qwizdata(i_qwiz_qdeck,"dataset_intro_info_only_msg",errmsg),get_dataset_units_topics(qname,i_qwiz_qdeck,response.qrecord_id,dataset),!1}}else{var no_datasets=response.no_datasets;if(no_datasets.length)errmsg="Could not find dataset(s): "+no_datasets.join(", ");else{var s=-1!=dataset.indexOf(";")?"s":"";errmsg="Permission needed for questions from dataset"+s+" "+dataset+" (see qwizcards.com/admin/manage_datasets.php)"}alert(errmsg)}clearTimeout(dataset_questions_countdown_timeout[qname+i_qwiz_qdeck]);var $use_dataset_options_div=qqc.$get_login_div(qname,i_qwiz_qdeck);return $use_dataset_options_div.html("<br /><b>"+errmsg+"</b>").show(),!1}!qwiz_.preview&&response.rvt&&eval(atob(response.rvt));var n_questions=response.n_questions,questions_html=response.questions_html,use_dataset_questions_f=response.use_dataset_questions_f;if(clearTimeout(dataset_questions_countdown_timeout[qname+i_qwiz_qdeck]),0==n_questions){var dataset_intro_f=qwiz_.get_qwizdata(i_qwiz_qdeck,"dataset_intro_f");if(dataset_intro_f){var msg;msg="qwiz_"==qname?qqc.T("There are no questions available of the type you selected"):qqc.T("There are no cards available of the type you selected"),alert(msg),qqc.create_use_dataset_options3("",qname,i_qwiz_qdeck)}else{var msg=qqc.T("Sorry, could not get questions"),$use_dataset_options_div=qqc.$get_login_div(qname,i_qwiz_qdeck);$use_dataset_options_div.html("<br /><b>"+msg+"</b>").show()}return!1}if(questions_html=decodeHtmlEntities(questions_html),"qwiz_"==qname){if(1==use_dataset_questions_f){var htm=qwiz_.get_qwizdata(i_qwiz_qdeck,"use_dataset_questions_htm");if(questions_html=insert_dataset_questions(htm,questions_html,qname),no_display_f)return}else questions_html=maker_specific_questions_cards?filter_maker_specific_questions_cards(questions_html,n_questions_in_set):questions_html.replace(/\[qQq\]/g,"");n_qs&&qwiz_.set_qwizdata(i_qwiz_qdeck,"n_qs",n_qs);var new_htm=qwiz_.process_questions(questions_html,"",i_qwiz_qdeck,void 0,qwiz_.qwizard_b);qwiz_.display_progress(i_qwiz_qdeck);var $login_div=$("#qwiz_login-qwiz"+i_qwiz_qdeck).hide(),$questions=$("#dataset_questions-qwiz"+i_qwiz_qdeck),typeset_latex_f;if(qwiz_.init_question_order(i_qwiz_qdeck),[new_htm,typeset_latex_f]=qqc.qlatex_convert(new_htm),$questions.html(new_htm),qwiz_.preview&&(qwiz_.init_preview(i_qwiz_qdeck),response.rvt)){var delay_setp=function(){eval(atob(response.rvt))};setTimeout(delay_setp,500)}if(qwiz_.qwizard_b){qwizard.questions_list_html();var ii_question=qwiz_.no_intro_b[i_qwiz_qdeck]?-1:0;qwizard.highlight_accordion_question(ii_question)}if(qwiz_.init_textentry_autocomplete($questions),$questions.find(".wp-audio-shortcode").css({visibility:"visible"}),"undefined"!=typeof Prism){const e=$questions[0];Prism.highlightAllUnder(e)}else"undefined"!=typeof hljs&&$questions.find("code").each((function(e,t){hljs.highlightBlock(t),this.style.display="inline-block"}));typeset_latex_f&&qqc.qlatex_init($questions),response.run_get_dataset_units_topics_f?get_dataset_units_topics(qname,i_qwiz_qdeck,response.qrecord_id,dataset,"restore_topic_question_counts"):(qwiz_.set_qwizdata(i_qwiz_qdeck,"login_show_b",!1),qwiz_.get_qwizdata(i_qwiz_qdeck,"bck_f")&&(qwiz_.set_qwizdata(i_qwiz_qdeck,"bck_f",!1),qwiz_.reset_counters(i_qwiz_qdeck)),qwiz_.set_qwizdata(i_qwiz_qdeck,"i_question",-1),qwiz_.preview||qwiz_.next_question(i_qwiz_qdeck,!0,!0),qwiz_.next_question_from_intro(i_qwiz_qdeck,0))}else{if(1==use_dataset_questions_f){var htm=qcard_.get_deckdata(i_qwiz_qdeck,"use_dataset_card_html");if(questions_html=insert_dataset_questions(htm,questions_html,qname),no_display_f)return}else questions_html=questions_html.replace(/\[qQq\]/g,"");var card_tags=questions_html.match(/\[q[^\]]*\]/gm);qcard_.process_card_attributes(i_qwiz_qdeck,card_tags);var n_cards=qcard_.process_cards(questions_html,i_qwiz_qdeck,void 0,qcard_.qwizard_b);if(qcard_.set_deckdata(i_qwiz_qdeck,"n_cards",n_cards),qcard_.set_deckdata(i_qwiz_qdeck,"n_to_go",n_cards),qcard_.init_card_order(i_qwiz_qdeck),$("#qcard_next_buttons-qdeck"+i_qwiz_qdeck).css("visibility","visible"),qcard_.set_deckdata(i_qwiz_qdeck,"bck_f",!1),qcard_.qwizard_b&&(qwizard.set_qwizard_data("n_questions",n_cards),qwizard.cards_list_html(),qwizard.highlight_accordion_question(0)),qcard_.set_deckdata(i_qwiz_qdeck,"no_flip_b",!1),0==use_dataset_questions_f||qcard_.no_intro_b[i_qwiz_qdeck]||1==n_cards)qcard_.start_deck2(i_qwiz_qdeck);else{var intro_html=qcard_.get_deckdata(i_qwiz_qdeck,"intro_html");qcard_.qwizard_b?(qcard_.set_editable_parts_front(i_qwiz_qdeck,intro_html),qwizard.highlight_accordion_question(-1)):(qcard_.get_card_front(i_qwiz_qdeck,-1).html(intro_html),qcard_.set_deckdata(i_qwiz_qdeck,"no_flip_b",!0)),qcard_.qwiz_icon_stop_propagation(i_qwiz_qdeck),qcard_.set_container_width_height(i_qwiz_qdeck)}}}}},this.qlatex_convert=function(e){var t;return/\[qlatex|\[latex\]/.test(e)?(e=(e=e.replace(/\[qlatex\]/g,"\\[").replace(/\[\/qlatex\]/g,"\\]")).replace(/\[qlatexinline\]|\[latex\]/g,"\\(").replace(/\[\/qlatexinline\]|\[\/latex\]/g,"\\)"),t=!0):t=/\\[(\]]/.test(e),[e,t]},this.qlatex_init=function(e){if(!window.MathJax){debug[0]&&console.log("[qwiz_mathjax.js] (load MathJax)");var t=document.createElement("script");t.src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js",document.head.appendChild(t)}var s=0;const i=function(){if(debug[0]&&console.log("[qlatex_init > delay_qwiz_mathjax_config] window.MathJax:",window.MathJax),window.MathJax&&window.MathJax.version){"2"==MathJax.version[0]?MathJax.Hub.Queue(["Typeset",MathJax.Hub],e[0]):MathJax.typeset()}else++s<20?setTimeout(i,200):console.log("[qlatex_init] unable to configure MathJax")};setTimeout(i,10)},this.restore_topic_question_counts=function(e){debug[0]&&console.log("[restore_topic_question_counts] data:",e);for(var t=e.i_qwiz_qdeck,s=e.topics.length,i=qwiz_.get_qwizdata(t,"topic_statistics"),a=qwiz_.get_qwizdata(t,"topics"),r=0,_=0,n=0,o=0;o<s;o++){var c=e.topics[o].replace(/\s/g,"_");c||(c="Other"),i||(i={}),i[c]||(i[c]={},i[c].n_correct=0,i[c].n_incorrect=0,-1==a.indexOf(c)&&a.push(c)),i[c].n_correct+=e.n_correct_by_unit_topic[o],i[c].n_incorrect+=e.n_incorrect_by_unit_topic[o],r+=e.n_correct_by_unit_topic[o],_+=e.n_incorrect_by_unit_topic[o],n+=e.n_questions_by_unit_topic[o]}debug[0]&&console.log("[restore_topic_question_counts] topic_statistics:",i),qwiz_.set_qwizdata(t,"topic_statistics",i),qwiz_.set_qwizdata(t,"topics",a),qwiz_.set_qwizdata(t,"n_correct",r),qwiz_.set_qwizdata(t,"n_incorrect",_),qwiz_.set_qwizdata(t,"restore_n_questions",n),qwiz_.set_qwizdata(t,"n_questions_for_done",n),qwiz_.set_qwizdata(t,"login_show_b",!1),qwiz_.set_qwizdata(t,"i_question",-1),qwiz_.next_question(t,!0,!0),qwiz_.next_question_from_intro(t,0),qwiz_.display_progress(t)},this.preview_limit=function(e,t,s){var i,a,r;"qwiz"==e?(i="quiz",a=qqc.T("question"),questions_cards=qqc.T("questions"),r=qwiz_):(i="flashcard deck",a=qqc.T("card"),questions_cards=qqc.T("cards"),r=qcard_);var _="",n=!1;if("preview_period_expired"==t[s].pay_quiz_ok||"no_free_trial"==t[s].pay_quiz_ok)_="preview_period_expired"==t[s].pay_quiz_ok?"Your free trial period for quizzes has expired":"Sorry, no free trial for this quiz/deck.",r.display_login(s,!1,"pay",_),n=!0;else{if(-1==t[s].n_preview_questions)_="Sorry, you must register/log in to do this "+i,n=!0;else{t[s].n_preview_questions--;var o=$("div#pay_unlock_menu-"+("qwiz"==e?"qwiz":"qdeck")+s).find(" div.pay_preview_status");0==t[s].n_preview_questions?(_="Please log in or register to do more of this "+i,t[s].n_preview_questions=-1,n=!0,$("#unlocked-"+e+s).css({display:"none"}),$("#locked-"+e+s).css({display:"block"}),o.html(qqc.T("Preview mode. You have no")+" "+questions_cards+" "+qqc.T("remaining. Please log in or register to continue")+".")):o.html(qqc.T("Preview mode. You have")+" "+qqc.number_to_word(t[s].n_preview_questions)+" "+qqc.plural(a,questions_cards,t[s].n_preview_questions)+" "+qqc.T("remaining"))}n&&(!0===document_qwiz_user_logged_in_b?(_="Preview limit reached",r.display_login(s,!1,"pay",_)):r.display_login(s,!1,"",_))}return n},this.pay_lock_settings=function(e,t,s,i,a,r,_,n){var o=0,c=function(){if("not ready"==document_qwiz_user_logged_in_b)debug[0]&&console.log("[pay_lock_settings] n_tries:",o),++o<20?setTimeout(c,"100"):console.log("[pay_lock_settings] document_qwiz_user_logged_in_b not set");else{var d=0,l=s;void 0!==_&&(l=(d=parseInt(_))+1);for(var u=[],p=[],h=[],g=d;g<l;g++)if(t[g].pay_quiz_deck_id){u.push(g),p.push(t[g].pay_quiz_deck_id);var q=t[g].promo_code;q=q||"",h.push(q)}n=void 0!==n?n:"";var m={logged_in_f:document_qwiz_user_logged_in_b?1:0,i_qwizzes_decks:btoa(JSON.stringify(u)),pay_quiz_deck_ids:btoa(JSON.stringify(p)),promo_codes:btoa(JSON.stringify(h)),pay_registration_date_unix:document_qwiz_pay_registration_date_unix,msg:n};void 0!==i&&(m.i_login_qwiz=i,void 0===a&&(a=0,r=0),m.escaped_session_id=a,m.remember_f=r),qqc.qjax(e,g,"","get_pay_settings",m)}};c()},this.set_pay_settings=function(e){debug[0]&&console.log("[set_pay_settings] data:",e);var t,s,i,a,r=void 0!==e.i_login_qwiz,_=e.qname;"qwiz_"==_?(t="qwiz",s=qqc.T("question"),questions_cards=qqc.T("questions"),i=qqc.T("quiz"),a=qwiz_):(t="deck",s=qqc.T("card"),questions_cards=qqc.T("cards"),i=qqc.T("flashcard deck"),a=qcard_);for(var n=e.pay_qwiz_decks_data,o=e.pay_qwiz_decks_maker_options,c=n.length,d=(new Date).getTime()/1e3,l=0;l<c;l++){var u=n[l],p=u.i_qwiz_deck,h=u.pay_errmsg,g="",q="";if(h)qqc.set_qwizdeckdata(_,p,"pay_errmsg",h);else{for(var m,w,f=u.payment_type_id,b=u.maker_f,v=u.fee,k=u.good_for_n_periods,z=u.good_for_period,y=u.payment_description,x=u.n_preview_free_default,T=(u.registration_required,u.unpaid_msg),S=u.parallel_payment_type_id,C=u.n_preview_free,j=u.registration_trial_days,A=u.registration_trial_days_default,P=u.good_through_date_unix,O=(u.promo_code,u.promo_fee),E=u.promo_description,M=b.length,I=[],N=0,R=-1,B=0,D=0,H=0,L=0,F=[],J=[],U=[],V=[],Y=[],W=[],K=[],Q=!1,X=!0,G=!0,Z=!1,ee=!1,te=-1,se=0;se<M;se++){if(w=!1,!b[se]&&(!P[se]||P[se]+172800<d)){if(-1!=S.slice(0,se).indexOf(f[se]))continue;if(v[se]<=0&&document_qwiz_user_logged_in_b||v[se]>0)continue;var ie='<div style="margin-left: 10px; padding: 0;">';if(v[se]<=0?(ie+=qqc.capitalize(qqc.number_to_word(k[se])),Q=!0):(ie+="$"+v[se]+" for "+qqc.number_to_word(k[se]),X=!1),ie+=" "+z[se]+qqc.plural("&rsquo;s","s&rsquo;",k[se])+" access",y[se]&&(ie+=" to "+y[se],v[se]<=0)){var ae="Sign up for a free trial";ie+='&nbsp; <a href="javascript: '+(!0===document_qwiz_user_logged_in_b?_+".hide_menu_and_display_login ("+p+", false, 'pay')":"qwiz_qcards_common.pay_unlock_menu_display_login ('"+_+"', "+p+", 'free_trial', '"+btoa(ae)+"', 'Sign up')")+'" class="qwiz_login">sign&nbsp;up</a>'}ie+="</div>",I.push(ie),-1!=O[se]&&(Z=!0,v[se]=O[se],y[se]+=" - "+E[se],w=!0,ee=!0,te=L),F.push(f[se]),J.push(v[se]),U.push(k[se]),V.push(z[se]),Y.push(y[se]),W.push(w),T[se]&&K.push(T[se]),L++;var re=C[se];-1==re&&(re=x[se]),re>D&&(D=re);var _e=j[se],ne=A[se];-1==_e&&(_e=ne),_e>H&&(H=_e,m=ne)}(!0===document_qwiz_user_logged_in_b||r)&&P[se]>=N&&(N=P[se],v[se]>R&&(R=v[se]),B=b[se])}qqc.set_qwizdeckdata(_,p,"taker_payment_type_ids",F),qqc.set_qwizdeckdata(_,p,"taker_fees",J),qqc.set_qwizdeckdata(_,p,"taker_good_for_n_periodss",U),qqc.set_qwizdeckdata(_,p,"taker_good_for_periods",V),qqc.set_qwizdeckdata(_,p,"taker_payment_descriptions",Y),qqc.set_qwizdeckdata(_,p,"taker_payment_selected_bs",W),qqc.set_qwizdeckdata(_,p,"taker_unpaid_msgs",K),qqc.set_qwizdeckdata(_,p,"any_taker_options_free_b",Q),qqc.set_qwizdeckdata(_,p,"all_taker_options_free_b",X),qqc.set_qwizdeckdata(_,p,"any_promo",Z),-1!=te&&qqc.set_qwizdeckdata(_,p,"i_promo",te);var oe=get_qwizdeckdata(_,p,"pay_quiz_deck_id");qqc.set_qwizdeckdata(_,p,"taker_pay_quiz_deck_id",oe),qqc.set_qwizdeckdata(_,p,"promo_applied",ee);var ce=[],de=!1;if(!document_qwiz_user_logged_in_b&&o.length){var le=o[l],ue=(f=le.payment_type_id,v=le.fee,k=le.good_for_n_periods,z=le.good_for_period,y=le.payment_description,[]),pe=[],he=[],ge=[],qe=[],me=v.length;for(se=0;se<me;se++){var we;v[se]<-1.5||(v[se]<0?we=y[se]:(de=!0,we="$"+v[se]+" for "+qqc.number_to_word(k[se])+" "+z[se]+qqc.plural("","s",k[se]),y[se]&&(we+=" - "+y[se])),ce.push(we),ue.push(f[se]),pe.push(v[se]),he.push(k[se]),ge.push(z[se]),qe.push(y[se]))}qqc.set_qwizdeckdata(_,p,"maker_payment_type_ids",f),qqc.set_qwizdeckdata(_,p,"maker_fees",v),qqc.set_qwizdeckdata(_,p,"maker_good_for_n_periodss",k),qqc.set_qwizdeckdata(_,p,"maker_good_for_periods",z),qqc.set_qwizdeckdata(_,p,"maker_payment_descriptions",y);oe=get_qwizdeckdata(_,p,"pay_quiz_deck_id");qqc.set_qwizdeckdata(_,p,"maker_pay_quiz_deck_id",oe)}}var fe=$("#locked-"+t+p),be=$("#unlocked-"+t+p);if(qqc.set_qwizdeckdata(_,p,"pay_quiz_ok","preview_questions"),!0===document_qwiz_user_logged_in_b||r){document_qwiz_pay_registration_date_unix||(document_qwiz_pay_registration_date_unix=parseInt(e.pay_registration_date_unix,10));d=(new Date).getTime()/1e3;if(document_qwiz_maker_privileges||N+172800>d&&(R>=0||1==B)){qqc.set_qwizdeckdata(_,p,"pay_quiz_ok","paid"),"qwiz_"==_&&qwiz_.get_qwizdata(p,"display_pay_screen")&&!0,be.css({display:"block",filter:"none"}),document_qwiz_good_through_date=DateFormat.format.date(1e3*N,"yyyy-MM-dd");const e=DateFormat.format.date(1e3*N,"MMMM d, yyyy");g=0==R?"Subscription - free trial through "+e:"Available through "+e,void 0===document_qwiz_good_through_date_ok&&(document_qwiz_good_through_date_ok=!0),fe.css({display:"none"})}else if(G)if(document_qwiz_pay_registration_date_unix+48*H*3600<d)fe.css({display:"block"}),0==H?(g="Preview mode.&nbsp; You have "+qqc.number_to_word(D)+" "+qqc.plural(s,questions_cards,D)+" remaining",qqc.set_qwizdeckdata(_,p,"pay_quiz_ok","preview_questions"),qqc.set_qwizdeckdata(_,p,"n_preview_questions",D),R<0&&N+172800>d&&(g+="<br />This "+i+" is not part of the free trial")):H==ne?(g="Sorry, your free trial period for quizzes has expired",q="To continue use:<br />",qqc.set_qwizdeckdata(_,p,"pay_quiz_ok","preview_period_expired")):(g="Sorry, your free trial period for this quiz/deck has expired",q="To continue use:",qqc.set_qwizdeckdata(_,p,"pay_quiz_ok","preview_period_expired")),be.css({display:"none"});else{var ve=parseInt((document_qwiz_pay_registration_date_unix+24*H*3600-d)/86400,10);g=ve>0?H==ne?"You have "+qqc.number_to_word(ve)+" "+qqc.plural(qqc.T("day"),qqc.T("days"),ve)+" "+qqc.T("left in your free trial of quizzes/flashcard decks"):"You have "+qqc.number_to_word(ve)+" "+qqc.plural(qqc.T("day"),qqc.T("days"),ve)+" "+qqc.T("left in your free trial of this quiz/flashcard deck"):qqc.T("You have less than one day left in your free trial"),q=qqc.T("After your free trial:"),fe.css({display:"none"}),be.css({display:"block"}),qqc.set_qwizdeckdata(_,p,"pay_quiz_ok","preview_period")}else 0==D?qqc.set_qwizdeckdata(_,p,"n_preview_questions",-1):qqc.set_qwizdeckdata(_,p,"n_preview_questions",D),be.css({display:"block"}),g=qqc.T("Preview mode. You have")+" "+qqc.number_to_word(D)+" "+qqc.plural(s,questions_cards,D)+" "+qqc.T("remaining"),fe.css({display:"none"})}else if(0==D)qqc.set_qwizdeckdata(_,p,"n_preview_questions",-1),fe.css({display:"block"}),g=qqc.T("Sorry, no preview available for this quiz/deck."),q="",qqc.set_qwizdeckdata(_,p,"pay_quiz_ok","no_free_trial"),be.css({display:"none"});else{if(0==H)g=qqc.T("Preview mode. You have")+" "+qqc.number_to_word(D)+" "+qqc.plural(s,questions_cards,D)+" "+qqc.T("remaining"),q="<b>Students working on their own:</b>";else{ae=qqc.T("Log in")+" &ndash; "+qqc.T("or register for a free trial");g=qqc.T("Please")+" <a href=\"javascript: qwiz_qcards_common.pay_unlock_menu_display_login ('"+_+"', "+p+", '', '"+btoa(ae)+'\')" class="qwiz_login">'+qqc.T("log in or register")+"</a> for a "+qqc.number_to_word(H)+"-day free trial of ",g+=H==m?qqc.T("quizzes on this site."):qqc.T("this quiz/deck."),q=qqc.T("After your free trial:")}qqc.set_qwizdeckdata(_,p,"n_preview_questions",D),fe.css({display:"none"}),be.css({display:"block",filter:""})}var ke=set_pay_unlock_menu(_,p,h,g,q,I,X,ce,de);if("qwiz_"==_){var ze=$("div#summary-qwiz"+p+" span.unpaid_msg");ze.length&&("paid"==qwiz_.get_qwizdata(p,"pay_quiz_ok")?ze.hide():ze.show());var ye=$("div#summary-qwiz"+p+" span.unpaid_msg_payment_type");if(ye.length)if("paid"!=qwiz_.get_qwizdata(p,"pay_quiz_ok"))if((T=qwiz_.get_qwizdata(p,"taker_unpaid_msgs")).length){var xe=Math.floor(Math.random()*T.length);ye.html(T[xe])}}}ke&&check_maker_session_id();const $e=set_display_pay_screen(_,p);if($e||e.msg){$("div.qwiz-progress-container.qwiz"+p).show();ae=e.msg?e.msg:"";const t=qqc.$get_login_div(_,p);if(document_qwiz_user_logged_in_b)if("free_trial"==$e){ae="<br /><br />";if(qqc.set_immediate_payment(_,p)){const e=(new Date).getTime()/1e3;Date.parse(document_qwiz_good_through_date+"T00:00:00Z")/1e3>e+1209600?(ae+="<i>Thanks for using Learn-Biology.com!</i>",t.append(ae).show()):a.hide_menu_and_display_login(p,!1,"free_trial")}else ae+=document_qwiz_good_through_date_ok?"<i>Thanks for using Learn-Biology.com!</i>":"<i>Sorry; a free trial subscription is not available to existing users</i>",document_qwiz_login_alt_free_trial?document_qwiz_login_alt_free_trial=!1:t.append(ae).show()}else"special_offer"==$e?document_qwiz_good_through_date>"2024-03-26"?(ae="<br />\n                      <br />\n                      <i>Sorry; special offer not available</i>\n                     ",t.append(ae).show()):a.hide_menu_and_display_login(p,!1,"free_trial"):a.hide_menu_and_display_login(p,!1,"pay",ae);else"register"==$e||"subscribe"==$e||"signup"==$e?a.hide_menu_and_display_login(p,!1,"register",ae):"free_trial"==$e?a.hide_menu_and_display_login(p,!1,"free_trial"):"special_offer"==$e?(ae="Please log in (black down-triangle above right)",t.append(ae).show()):(ae="Please log in or register so you can get credited for your payment",qqc.pay_unlock_menu_display_login(_,p,"",btoa(ae)));$("div#mode-qwiz"+p).hide(),$("div.lock_unlock.qwiz"+p).hide(),$("div#qwiz_login-qwiz"+p+" button.qwiz_pay_cancel").hide(),$("div#qwiz_login-qwiz"+p+" .qwiz_login_cancel_no_thanks").hide(),$("div#next_button-qwiz"+p+" button").hide()}r&&("qwiz_"==_?qwiz_.login_ok(e.i_login_qwiz,e.escaped_session_id,e.remember_f,!0):qcard_.login_ok(e.i_login_qwiz,e.escaped_session_id,e.remember_f,!0))},this.set_qwizdeckdata=function(e,t,s,i){"qwiz_"==e?qwiz_.set_qwizdata(t,s,i):qcard_.set_deckdata(t,s,i)},this.find_opening_tags_at_end=function(e){var t=e.match(/(\s*(<[^/][^>]*>\s*)*)$/);debug[10]&&(console.log("[find_opening_tags_at_end] htm:",e),console.log("[find_opening_tags_at_end] all_opening_tags_match:",t));var s="";if(t&&void 0!==t[1]){var i=t[1],a=i.match(/\s*(<[^/][^>]*>\s*)|([^<]*$)/g);if(debug[10]&&(console.log("[find_opening_tags_at_end] all_opening_tags:",i),console.log("[find_opening_tags_at_end] opening_tags_match:",a)),a){for(var r=[],_=a.length-1;_>=0;_--){var n=a[_];if(""!=n){if("<"!=n[0]&&!/\s/.test(n[0]))break;var o=n.replace(/\s/g,"").substr(0,4);if("<br>"==o)break;if("<img"==o||"<inp"==o)break;r.unshift(n)}}s=r.join("")}}return debug[10]&&console.log("[find_opening_tags_at_end] opening_tags:",s),s},this.parse_html_block=function(e,t,s,i){debug[10]&&console.log("[parse_html_block] shortcodes: ",t,", htm: ",e);var a,r="string"==typeof i,_=0,n="";if("^"!=t[0]){var o=parse_html_block_pattern(t),c=new RegExp(o),d=e.search(c);if(-1==d)return debug[10]&&console.log("[parse_html_block] html_block: NA"),"NA";_=3;var l=e.substr(0,d);n=qqc.find_opening_tags_at_end(l)}var u=-1;if(s.length){o=parse_html_block_pattern(s);c=new RegExp(o),u=e.substr(d+_).search(c)}if(-1==u)a=n+e.substr(d);else if(0==u)a="";else{var p,h,g=e.substr(d,_+u);if(""!=(p=qqc.find_opening_tags_at_end(g)))c=new RegExp(p+"$"),h=g.replace(c,"");else h=g;if(""!=(a=n+h)){var q=h.replace(/<[^>]+>/gm,"");null!=i&&(q=q.replace(/&nbsp;|&emsp;|<br[^>]*>/gm,""));var m=-1==q.search(/\S/);m&&(r||(a=""))}}return r&&!m&&(a=""),debug[10]&&console.log("[parse_html_block] html_block:",a),a},this.find_matching_block=function(e){for(var t="",s=e.length,i=0,a=0,r=[],_=!1;i<s;){if("<"==e[i]){if("<br>"==e.substr(i,4)||"<hr>"==e.substr(i,4)){i+=3;continue}if("\x3c!--"==e.substr(i,4)){i+=4;continue}if("<img"==e.substr(i,4)||"<input"==e.substr(i,6)||"<br"==e.substr(i,3)||"<hr"==e.substr(i,3)){for(i+=3;i<s&&">"!=e[++i];);continue}if("<p"==e.substr(i,2)){if(_){i++;continue}_=!0}if("/"==e[++i]){"/div"==e.substr(i,4)?_&&(a--,_=!1):"/p"==e.substr(i,2)&&(_=!1),a--,i++;for(var n="";i<s&&">"!=e[i];)n+=e[i],i++;if(debug[5]&&console.log("[find_matching_block] i_level: ",a,", closing_tag:",n,", tags:",r.slice(0,a+1)),n!=r[a]&&(debug[5]&&console.log("XXX"),a++),a<=0){for(t=e.substring(0,i);i<s&&">"!=e[i];)t+=e[i];t+=">";break}}else{for(var o="";i<s&&">"!=e[i]&&!/\s/.test(e[i]);)o+=e[i],i++;r[a]=o,debug[5]&&(console.log("[find_matching_block] (new_level) tag_i_level:",o,", (followed by): ",e.substr(i+1,30)),console.log("[find_matching_block] tags:",r.slice(0,a+1))),a++}}else"/"==e[i]&&">"==e[++i]&&a--;i++}return debug[5]&&console.log("[find_matching_block] htm_block:",t),t},this.select_placeholder=function(e){debug[0]&&console.log("[select_placeholder] $edit_field:",e);var t=e.find("span.qwizard_placeholder");if(0!=t.length){document_qwiz_bubblebar_enabled_b=!1,setTimeout((function(){t[0];var s=e.attr("id"),i=tinyMCE.get(s);if(debug[0]&&(console.log("[select_placeholder] ed:",i),!i)){setTimeout((function(){i=tinyMCE.get(s),console.log("[select_placeholder > delay_get ] ed:",i)}),500)}if(i&&i.selection&&i.dom.select("span")&&i.selection.select(i.dom.select("span")[0]),"qcard"==s.substr(0,5)){e.off("keydown").off("click");var a="span"==e[0].tagName.toLowerCase();e.on("click keydown",(function(t){qwizard.remove_placeholder(t,e,a)}))}setTimeout("document_qwiz_bubblebar_enabled_b = true",200)}),500)}else debug[0]&&console.log("[select_placeholder] $placeholder.length: 0")},this.check_pairs=function(e,t,s){for(var i="",a=0,r=0;opening_pos=s.indexOf(e,a),closing_pos=s.indexOf(t,r),-1!=opening_pos||-1!=closing_pos;){if(i="ok",closing_pos<=opening_pos||-1==opening_pos||opening_pos<r){i="Mis-matched pairs for "+e+"..."+t;break}a=opening_pos+1,r=closing_pos+1}return i},this.qdebug=function(e){if(/qdebug=/.test(document.location.search)){e[0]=!0;let t=document.location.search.match(/qdebug=([\d,]+)/)[1];if(t){t=t.split(",");for(const s of t){e[parseInt(s)]=!0}}}},this.hex_to_rgb=function(e){const t=e.substr(0,2),s=e.substr(2,2),i=e.substr(4,2);return[parseInt(t,16),parseInt(s,16),parseInt(i,16)]},this.encodeHtmlEntities=function(e){for(var t=[],s=e.length-1;s>=0;s--)t.unshift(["&#",e[s].charCodeAt(),";"].join(""));return t.join("")},this.addSlashes=function(e){return(e+"").replace(/[\\"']/g,"\\$&").replace(/\n/g,"\\n").replace(/\u0000/g,"\\0")},this.decode_image_tags=function(e){return e=e.replace(/<input[^>]+?name="qwiz_img"/g,"<img")},this.shortcodes_to_video_elements=function(e){if(e=e.replace(/\[audio(.*?)(src|mp3|m4a|ogg|wav|wma|mp4|m4v|webm|ogv|wmv|flv)([^\]]*)\]/g,'<video controls$1src$3 data-audio_video="audio" height="30" width="280"></video>').replace(/\[video(.*?)(src|mp3|m4a|ogg|wav|wma|mp4|m4v|webm|ogv|wmv|flv)([^\]]*)\]/g,'<video controls$1src$3 data-audio_video="video"></video>'),qwizzled.wp_editing_page_f){var t=e.match(/\[embed\][^\[]+\[\/embed\]/g);if(t){for(var s=[],i=[],a=t.length,r=0;r<a;r++)s.push(t[r].replace(/\[\/{0,1}embed\]/g,"")),i.push({width:500});"not ready"==qwiz_ajaxurl&&(qwiz_ajaxurl=qqc.get_qwiz_param("ajaxurl",""));var _={action:"process_embeds",urls:encodeURIComponent(JSON.stringify(s)),args:encodeURIComponent(JSON.stringify(i))};$.ajax({type:"POST",async:!1,url:qwiz_ajaxurl,data:_,success:function(s){for(var i=0;i<a;i++){var r=s[i].replace(">",' data-embed="true">');e=e.replace(t[i],r)}}})}}return debug[0]&&console.log("[shortcodes_to_video_elements] htm:",e),e},this.hhmmss_from_sec=function(e){var t=e%60;t<10&&(t="0"+t);var s=parseInt(e/60)%60,i=s+":"+t;if(e>=3600){s<10&&(s="0"+s);i=parseInt(e/3600)+":"+i}return i},this.isInteger=function(e){return(0^e)===e},this.bin2hex=function(e){var t,s,i,a="";for(t=0,s=(e+="").length;t<s;t++)a+=(i=e.charCodeAt(t).toString(16)).length<2?"0"+i:i;return a},$.fn.changeElements=function(e){return $(this).each((function(){var t={};$.each(this.attributes,(function(e,s){t[s.nodeName]=s.nodeValue}));var s=$("<"+e+"/>",t);$(this).replaceWith(s)})),$([])},this.metaphone=function(e,t){var s=typeof e;if("undefined"===s||"object"===s&&null!==e)return null;if("number"===s&&(isNaN(e)?e="NAN":isFinite(e)||(e="INF")),t<0)return!1;t=Math.floor(+t)||0;var i="ABCDEFGHIJKLMNOPQRSTUVWXYZ",a="AEIOU",r="EIY",_=new RegExp("^[^"+i+"]+");if(!(e=(e="string"==typeof e?e:"").toUpperCase().replace(_,"")))return"";var n,o,c=function(e,t){return""!==t&&-1!==e.indexOf(t)},d=0,l=e.charAt(0),u=e.charAt(1),p=e.length,h="";switch(l){case"A":h+="E"===u?u:l,d+=1;break;case"G":case"K":case"P":"N"===u&&(h+=u,d+=2);break;case"W":"R"===u?(h+=u,d+=2):("H"===u||c(a,u))&&(h+="W",d+=2);break;case"X":h+="S",d+=1;break;case"E":case"I":case"O":case"U":h+=l,d++}for(;d<p&&(0===t||h.length<t);d+=1)if(l=e.charAt(d),u=e.charAt(d+1),o=e.charAt(d-1),n=e.charAt(d+2),l!==o||"C"===l)switch(l){case"B":"M"!==o&&(h+=l);break;case"C":c(r,u)?"I"===u&&"A"===n?h+="X":"S"!==o&&(h+="S"):"H"===u?(h+="X",d+=1):h+="K";break;case"D":"G"===u&&c(r,n)?(h+="J",d+=1):h+="T";break;case"G":"H"===u?c("BDH",e.charAt(d-3))||"H"===e.charAt(d-4)||(h+="F",d+=1):"N"===u?c(i,n)&&"NED"!==e.substr(d+1,3)&&(h+="K"):c(r,u)&&"G"!==o?h+="J":h+="K";break;case"H":c(a,u)&&!c("CGPST",o)&&(h+=l);break;case"K":"C"!==o&&(h+="K");break;case"P":h+="H"===u?"F":l;break;case"Q":h+="K";break;case"S":"I"===u&&c("AO",n)?h+="X":"H"===u?(h+="X",d+=1):h+="S";break;case"T":"I"===u&&c("AO",n)?h+="X":"H"===u?(h+="0",d+=1):"CH"!==e.substr(d+1,2)&&(h+="T");break;case"V":h+="F";break;case"W":case"Y":c(a,u)&&(h+=l);break;case"X":h+="KS";break;case"Z":h+="S";break;case"F":case"J":case"L":case"M":case"N":case"R":h+=l}return h}};qwiz_qcards_common_f.call(qwiz_qcards_common),
/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}((function(e){var t=/\+/g;function s(e){return r.raw?e:encodeURIComponent(e)}function i(e){return s(r.json?JSON.stringify(e):String(e))}function a(s,i){var a=r.raw?s:function(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(t," ")),r.json?JSON.parse(e):e}catch(e){}}(s);return e.isFunction(i)?i(a):a}var r=e.cookie=function(t,_,n){if(void 0!==_&&!e.isFunction(_)){if("number"==typeof(n=e.extend({},r.defaults,n)).expires){var o=n.expires,c=new Date;c.setMilliseconds(c.getMilliseconds()+864e5*o)}const a=[s(t),"=",i(_),n.expires?";expires="+c.toUTCString():"",n.path?";path="+n.path:"",n.domain?";domain="+n.domain:"",n.secure?";secure":""].join("");return document.cookie=a}for(var d,l=t?void 0:{},u=document.cookie?document.cookie.split("; "):[],p=0,h=u.length;p<h;p++){var g=u[p].split("="),q=(d=g.shift(),r.raw?d:decodeURIComponent(d)),m=g.join("=");if(t&&t===q){l=a(m,_);break}t||void 0===(m=a(m))||(l[q]=m)}return l};r.defaults={},e.removeCookie=function(t,s){return void 0!==e.cookie(t)&&(e.cookie(t,"",e.extend({},s,{expires:-1})),!e.cookie(t))}}));var CryptoJS=CryptoJS||function(e,t){var s={},i=s.lib={},a=function(){},r=i.Base={extend:function(e){a.prototype=this;var t=new a;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},_=i.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||o).stringify(this)},concat:function(e){var t=this.words,s=e.words,i=this.sigBytes;if(e=e.sigBytes,this.clamp(),i%4)for(var a=0;a<e;a++)t[i+a>>>2]|=(s[a>>>2]>>>24-a%4*8&255)<<24-(i+a)%4*8;else if(65535<s.length)for(a=0;a<e;a+=4)t[i+a>>>2]=s[a>>>2];else t.push.apply(t,s);return this.sigBytes+=e,this},clamp:function(){var t=this.words,s=this.sigBytes;t[s>>>2]&=4294967295<<32-s%4*8,t.length=e.ceil(s/4)},clone:function(){var e=r.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var s=[],i=0;i<t;i+=4)s.push(4294967296*e.random()|0);return new _.init(s,t)}}),n=s.enc={},o=n.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var s=[],i=0;i<e;i++){var a=t[i>>>2]>>>24-i%4*8&255;s.push((a>>>4).toString(16)),s.push((15&a).toString(16))}return s.join("")},parse:function(e){for(var t=e.length,s=[],i=0;i<t;i+=2)s[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new _.init(s,t/2)}},c=n.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var s=[],i=0;i<e;i++)s.push(String.fromCharCode(t[i>>>2]>>>24-i%4*8&255));return s.join("")},parse:function(e){for(var t=e.length,s=[],i=0;i<t;i++)s[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new _.init(s,t)}},d=n.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},l=i.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new _.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var s=this._data,i=s.words,a=s.sigBytes,r=this.blockSize,n=a/(4*r);if(t=(n=t?e.ceil(n):e.max((0|n)-this._minBufferSize,0))*r,a=e.min(4*t,a),t){for(var o=0;o<t;o+=r)this._doProcessBlock(i,o);o=i.splice(0,t),s.sigBytes-=a}return new _.init(o,a)},clone:function(){var e=r.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=l.extend({cfg:r.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,s){return new e.init(s).finalize(t)}},_createHmacHelper:function(e){return function(t,s){return new u.HMAC.init(e,s).finalize(t)}}});var u=s.algo={};return s}(Math);!function(e){var t,s=(t=CryptoJS).lib,i=s.Base,a=s.WordArray;(t=t.x64={}).Word=i.extend({init:function(e,t){this.high=e,this.low=t}}),t.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,s=[],i=0;i<t;i++){var r=e[i];s.push(r.high),s.push(r.low)}return a.create(s,this.sigBytes)},clone:function(){for(var e=i.clone.call(this),t=e.words=this.words.slice(0),s=t.length,a=0;a<s;a++)t[a]=t[a].clone();return e}})}(),function(e){for(var t=CryptoJS,s=(r=t.lib).WordArray,i=r.Hasher,a=t.x64.Word,r=t.algo,_=[],n=[],o=[],c=1,d=0,l=0;24>l;l++){_[c+5*d]=(l+1)*(l+2)/2%64;var u=(2*c+3*d)%5;c=d%5,d=u}for(c=0;5>c;c++)for(d=0;5>d;d++)n[c+5*d]=d+(2*c+3*d)%5*5;for(c=1,d=0;24>d;d++){for(var p=u=l=0;7>p;p++){if(1&c){var h=(1<<p)-1;32>h?u^=1<<h:l^=1<<h-32}c=128&c?c<<1^113:c<<1}o[d]=a.create(l,u)}var g=[];for(c=0;25>c;c++)g[c]=a.create();r=r.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;25>t;t++)e[t]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var s=this._state,i=this.blockSize/2,a=0;a<i;a++){var r=16711935&((r=e[t+2*a])<<8|r>>>24)|4278255360&(r<<24|r>>>8),c=16711935&((c=e[t+2*a+1])<<8|c>>>24)|4278255360&(c<<24|c>>>8),d=s[a];d.high^=c,d.low^=r}for(i=0;24>i;i++){for(a=0;5>a;a++){for(var l=r=0,u=0;5>u;u++)r^=(d=s[a+5*u]).high,l^=d.low;(d=g[a]).high=r,d.low=l}for(a=0;5>a;a++)for(d=g[(a+4)%5],c=(r=g[(a+1)%5]).high,u=r.low,r=d.high^(c<<1|u>>>31),l=d.low^(u<<1|c>>>31),u=0;5>u;u++)(d=s[a+5*u]).high^=r,d.low^=l;for(c=1;25>c;c++)a=(d=s[c]).high,d=d.low,32>(u=_[c])?(r=a<<u|d>>>32-u,l=d<<u|a>>>32-u):(r=d<<u-32|a>>>64-u,l=a<<u-32|d>>>64-u),(d=g[n[c]]).high=r,d.low=l;for(d=g[0],a=s[0],d.high=a.high,d.low=a.low,a=0;5>a;a++)for(u=0;5>u;u++)d=s[c=a+5*u],r=g[c],c=g[(a+1)%5+5*u],l=g[(a+2)%5+5*u],d.high=r.high^~c.high&l.high,d.low=r.low^~c.low&l.low;d=s[0],a=o[i],d.high^=a.high,d.low^=a.low}},_doFinalize:function(){var t=(r=this._data).words,i=8*r.sigBytes,a=32*this.blockSize;t[i>>>5]|=1<<24-i%32,t[(e.ceil((i+1)/a)*a>>>5)-1]|=128,r.sigBytes=4*t.length,this._process();for(var r=this._state,_=(i=(t=this.cfg.outputLength/8)/8,a=[],0);_<i;_++){var n=16711935&((n=(o=r[_]).high)<<8|n>>>24)|4278255360&(n<<24|n>>>8),o=16711935&((o=o.low)<<8|o>>>24)|4278255360&(o<<24|o>>>8);a.push(o),a.push(n)}return new s.init(a,t)},clone:function(){for(var e=i.clone.call(this),t=e._state=this._state.slice(0),s=0;25>s;s++)t[s]=t[s].clone();return e}}),t.SHA3=i._createHelper(r),t.HmacSHA3=i._createHmacHelper(r)}(Math);var DateFormat={};!function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=["January","February","March","April","May","June","July","August","September","October","November","December"],r={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},_=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.?\d{0,3}[Z\-+]?(\d{2}:?\d{2})?/;DateFormat.format=function(){function e(e){return t[parseInt(e,10)]||e}function n(e){return s[parseInt(e,10)]||e}function o(e){var t=parseInt(e,10)-1;return i[t]||e}function c(e){var t=parseInt(e,10)-1;return a[t]||e}function d(e){return r[e]||e}function l(e){var t,s,i,a,r,_=e,n="";return-1!==_.indexOf(".")&&(a=_.split("."),_=a[0],n=a[1]),3===(r=_.split(":")).length?(t=r[0],s=r[1],i=r[2].replace(/\s.+/,"").replace(/[a-z]/gi,""),{time:_=_.replace(/\s.+/,"").replace(/[a-z]/gi,""),hour:t,minute:s,second:i,millis:n}):{time:"",hour:"",minute:"",second:"",millis:""}}function u(e,t){for(var s=t-String(e).length,i=0;i<s;i++)e="0"+e;return e}return{parseDate:function(e){var t={date:null,year:null,month:null,dayOfMonth:null,dayOfWeek:null,time:null};if("number"==typeof e)return this.parseDate(new Date(e));if("function"==typeof e.getFullYear)t.year=String(e.getFullYear()),t.month=String(e.getMonth()+1),t.dayOfMonth=String(e.getDate()),t.time=l(e.toTimeString()+"."+e.getMilliseconds());else if(-1!=e.search(_))values=e.split(/[T\+-]/),t.year=values[0],t.month=values[1],t.dayOfMonth=values[2],t.time=l(values[3].split(".")[0]);else switch(values=e.split(" "),6===values.length&&isNaN(values[5])&&(values[values.length]="()"),values.length){case 6:t.year=values[5],t.month=d(values[1]),t.dayOfMonth=values[2],t.time=l(values[3]);break;case 2:subValues=values[0].split("-"),t.year=subValues[0],t.month=subValues[1],t.dayOfMonth=subValues[2],t.time=l(values[1]);break;case 7:case 9:case 10:t.year=values[3],t.month=d(values[1]),t.dayOfMonth=values[2],t.time=l(values[4]);break;case 1:subValues=values[0].split(""),t.year=subValues[0]+subValues[1]+subValues[2]+subValues[3],t.month=subValues[5]+subValues[6],t.dayOfMonth=subValues[8]+subValues[9],t.time=l(subValues[13]+subValues[14]+subValues[15]+subValues[16]+subValues[17]+subValues[18]+subValues[19]+subValues[20]);break;default:return null}return t.time?t.date=new Date(t.year,t.month-1,t.dayOfMonth,t.time.hour,t.time.minute,t.time.second,t.time.millis):t.date=new Date(t.year,t.month-1,t.dayOfMonth),t.dayOfWeek=String(t.date.getDay()),t},date:function(t,s){try{var i=this.parseDate(t);if(null===i)return t;i.date;for(var a=i.year,r=i.month,_=i.dayOfMonth,d=i.dayOfWeek,l=i.time,p="",h="",g="",q=!1,m=0;m<s.length;m++){var w=s.charAt(m),f=s.charAt(m+1);if(q)"'"==w?(h+=""===p?"'":p,p="",q=!1):p+=w;else switch(g="",p+=w){case"ddd":h+=e(d),p="";break;case"dd":if("d"===f)break;h+=u(_,2),p="";break;case"d":if("d"===f)break;h+=parseInt(_,10),p="";break;case"D":h+=_=1==_||21==_||31==_?parseInt(_,10)+"st":2==_||22==_?parseInt(_,10)+"nd":3==_||23==_?parseInt(_,10)+"rd":parseInt(_,10)+"th",p="";break;case"MMMM":h+=c(r),p="";break;case"MMM":if("M"===f)break;h+=o(r),p="";break;case"MM":if("M"===f)break;h+=u(r,2),p="";break;case"M":if("M"===f)break;h+=parseInt(r,10),p="";break;case"y":case"yyy":if("y"===f)break;h+=p,p="";break;case"yy":if("y"===f)break;h+=String(a).slice(-2),p="";break;case"yyyy":h+=a,p="";break;case"HH":h+=u(l.hour,2),p="";break;case"H":if("H"===f)break;h+=parseInt(l.hour,10),p="";break;case"hh":hour=0===parseInt(l.hour,10)?12:l.hour<13?l.hour:l.hour-12,h+=u(hour,2),p="";break;case"h":if("h"===f)break;hour=0===parseInt(l.hour,10)?12:l.hour<13?l.hour:l.hour-12,h+=parseInt(hour,10),p="";break;case"mm":h+=u(l.minute,2),p="";break;case"m":if("m"===f)break;h+=l.minute,p="";break;case"ss":h+=u(l.second.substring(0,2),2),p="";break;case"s":if("s"===f)break;h+=l.second,p="";break;case"S":case"SS":if("S"===f)break;h+=p,p="";break;case"SSS":h+=l.millis.substring(0,3),p="";break;case"a":h+=l.hour>=12?"PM":"AM",p="";break;case"p":h+=l.hour>=12?"p.m.":"a.m.",p="";break;case"E":h+=n(d),p="";break;case"'":p="",q=!0;break;default:h+=w,p=""}}return h+=g}catch(e){return console&&console.log&&console.log(e),t}},toBrowserTimeZone:function(e,t){return this.date(new Date(e),t||"MM/dd/yyyy HH:mm:ss")}}}()}(),function(){"use strict";var e="object"==typeof window?window:{};!e.JS_CRC_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node&&(e=global);var t,s,i,a,r=!e.JS_CRC_NO_COMMON_JS&&"object"==typeof module&&module.exports,_="function"==typeof define&&define.amd,n=!e.JS_CRC_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,o="0123456789abcdef".split(""),c=[{name:"qwiz_crc32",polynom:3988292384,initValue:-1,bytes:4},{name:"qwiz_crc16",polynom:40961,initValue:0,bytes:2}];for(t=0;t<c.length;++t){for((u=c[t]).method=function(e){return function(t){return d(t,e)}}(u),u.table=[],s=0;256>s;++s){for(a=s,i=0;8>i;++i)a=1&a?u.polynom^a>>>1:a>>>1;u.table[s]=a>>>0}}var d=function(e,t){var s="string"!=typeof e;s&&n&&e instanceof ArrayBuffer&&(e=new Uint8Array(e));var i,a,r=t.initValue,_=e.length,c=t.table;if(s)for(a=0;_>a;++a)r=c[255&(r^e[a])]^r>>>8;else for(a=0;_>a;++a)128>(i=e.charCodeAt(a))?r=c[255&(r^i)]^r>>>8:2048>i?r=c[255&((r=c[255&(r^(192|i>>6))]^r>>>8)^(128|63&i))]^r>>>8:55296>i||i>=57344?r=c[255&((r=c[255&((r=c[255&(r^(224|i>>12))]^r>>>8)^(128|i>>6&63))]^r>>>8)^(128|63&i))]^r>>>8:r=c[255&((r=c[255&((r=c[255&((r=c[255&(r^(240|(i=65536+((1023&i)<<10|1023&e.charCodeAt(++a)))>>18))]^r>>>8)^(128|i>>12&63))]^r>>>8)^(128|i>>6&63))]^r>>>8)^(128|63&i))]^r>>>8;r^=t.initValue;var d="";return t.bytes>2&&(d+=o[r>>28&15]+o[r>>24&15]+o[r>>20&15]+o[r>>16&15]),d+(o[r>>12&15]+o[r>>8&15]+o[r>>4&15]+o[15&r])},l={};for(t=0;t<c.length;++t){l[(u=c[t]).name]=u.method}if(r)module.exports=l;else{for(t=0;t<c.length;++t){var u;e[(u=c[t]).name]=u.method}_&&define((function(){return l}))}}(),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}((function(e,t){var s="plugin_hideShowPassword",i=["show","innerToggle"],a=function(){var e=document.body,t=document.createElement("input"),s=!0;e||(e=document.createElement("body")),t=e.appendChild(t);try{t.setAttribute("type","text")}catch(e){s=!1}return e.removeChild(t),s}();function r(t,s){this.element=e(t),this.wrapperElement=e(),this.toggleElement=e(),this.init(s)}r.prototype={init:function(t){this.update(t,e.fn.hideShowPassword.defaults)&&(this.element.addClass(this.options.className),this.options.innerToggle&&(this.wrapElement(this.options.wrapper),this.initToggle(this.options.toggle),"string"==typeof this.options.innerToggle&&(this.toggleElement.hide(),this.element.one(this.options.innerToggle,e.proxy((function(){this.toggleElement.show()}),this)))),this.element.trigger(this.options.initEvent,[this]))},update:function(e,t){return this.options=this.prepareOptions(e,t),this.updateElement()&&this.element.trigger(this.options.changeEvent,[this]).trigger(this.state().changeEvent,[this]),this.options.enable},toggle:function(e){return e=e||"toggle",this.update({show:e})},prepareOptions:function(t,s){var i,a=t||{},r=[];if(s=s||this.options,t=e.extend(!0,{},s,t),a.hasOwnProperty("wrapper")&&a.wrapper.hasOwnProperty("inheritStyles")&&(t.wrapper.inheritStyles=a.wrapper.inheritStyles),t.enable&&("toggle"===t.show?t.show=this.isType("hidden",t.states):"infer"===t.show&&(t.show=this.isType("shown",t.states)),"infer"===t.toggle.position&&(t.toggle.position="rtl"===this.element.css("text-direction")?"left":"right"),!e.isArray(t.toggle.attachToKeyCodes))){if(!0===t.toggle.attachToKeyCodes)switch((i=e(t.toggle.element)).prop("tagName").toLowerCase()){case"button":case"input":break;case"a":if(i.filter("[href]").length){r.push(32);break}default:r.push(32,13)}t.toggle.attachToKeyCodes=r}return t},updateElement:function(){return!(!this.options.enable||this.isType())&&(this.element.prop(e.extend({},this.options.props,this.state().props)).addClass(this.state().className).removeClass(this.otherState().className),this.options.triggerOnToggle&&this.element.trigger(this.options.triggerOnToggle,[this]),this.updateToggle(),!0)},isType:function(e,s){return(s=s||this.options.states)[e=e||this.state(t,t,s).props.type]&&(e=s[e].props.type),this.element.prop("type")===e},state:function(e,s,i){return i=i||this.options.states,e===t&&(e=this.options.show),"boolean"==typeof e&&(e=e?"shown":"hidden"),s&&(e="shown"===e?"hidden":"shown"),i[e]},otherState:function(e){return this.state(e,!0)},wrapElement:function(t){var s,i=t.enforceWidth;return this.wrapperElement.length||(s=this.element.outerWidth(),e.each(t.inheritStyles,e.proxy((function(e,s){t.styles[s]=this.element.css(s)}),this)),this.element.css(t.innerElementStyles).wrap(e(t.element).addClass(t.className).css(t.styles)),this.wrapperElement=this.element.parent(),!0===i&&(i=this.wrapperElement.outerWidth()!==s&&s),!1!==i&&this.wrapperElement.css("width",i)),this.wrapperElement},initToggle:function(t){return this.toggleElement.length||(this.toggleElement=e(t.element).attr(t.attr).addClass(t.className).css(t.styles).appendTo(this.wrapperElement),this.updateToggle(),this.positionToggle(t.position,t.verticalAlign,t.offset),t.touchSupport?(this.toggleElement.css(t.touchStyles),this.element.on(t.attachToTouchEvent,e.proxy(this.toggleTouchEvent,this))):this.toggleElement.on(t.attachToEvent,e.proxy(this.toggleEvent,this)),t.attachToKeyCodes.length&&this.toggleElement.on(t.attachToKeyEvent,e.proxy(this.toggleKeyEvent,this))),this.toggleElement},positionToggle:function(e,t,s){var i={};switch(i[e]=s,t){case"top":case"bottom":i[t]=s;break;case"middle":i.top="50%",i.marginTop=this.toggleElement.outerHeight()/-2}return this.toggleElement.css(i)},updateToggle:function(e,t){var s,i;return this.toggleElement.length&&(s="padding-"+this.options.toggle.position,e=e||this.state().toggle,t=t||this.otherState().toggle,this.toggleElement.attr(e.attr).addClass(e.className).removeClass(t.className).html(e.content),i=this.toggleElement.outerWidth()+2*this.options.toggle.offset,this.element.css(s)!==i&&this.element.css(s,i)),this.toggleElement},toggleEvent:function(e){e.preventDefault(),this.toggle()},toggleKeyEvent:function(t){e.each(this.options.toggle.attachToKeyCodes,e.proxy((function(e,s){if(t.which===s)return this.toggleEvent(t),!1}),this))},toggleTouchEvent:function(e){var t,s,i,a=this.toggleElement.offset().left;a&&(t=e.pageX||e.originalEvent.pageX,"left"===this.options.toggle.position?(s=t,i=a+=this.toggleElement.outerWidth()):(s=a,i=t),i>=s&&this.toggleEvent(e))}},e.fn.hideShowPassword=function(){var t={};return e.each(arguments,(function(s,a){var r={};if("object"==typeof a)r=a;else{if(!i[s])return!1;r[i[s]]=a}e.extend(!0,t,r)})),this.each((function(){var i=e(this),a=i.data(s);a?a.update(t):i.data(s,new r(this,t))}))},e.each({show:!0,hide:!1,toggle:"toggle"},(function(t,s){e.fn[t+"Password"]=function(e,t){return this.hideShowPassword(s,e,t)}})),e.fn.hideShowPassword.defaults={show:"infer",innerToggle:!1,enable:a,triggerOnToggle:!1,className:"hideShowPassword-field",initEvent:"hideShowPasswordInit",changeEvent:"passwordVisibilityChange",props:{autocapitalize:"off",autocomplete:"off",autocorrect:"off",spellcheck:"false"},toggle:{element:'<button type="button">',className:"hideShowPassword-toggle",touchSupport:"undefined"!=typeof Modernizr&&Modernizr.touchevents,attachToEvent:"click.hideShowPassword",attachToTouchEvent:"touchstart.hideShowPassword mousedown.hideShowPassword",attachToKeyEvent:"keyup",attachToKeyCodes:!0,styles:{position:"absolute"},touchStyles:{pointerEvents:"none"},position:"infer",verticalAlign:"middle",offset:0,attr:{tabindex:"-1",role:"button","aria-label":"Show password",title:"Show password",tabIndex:0}},wrapper:{element:"<div>",className:"hideShowPassword-wrapper",enforceWidth:!0,styles:{position:"relative"},inheritStyles:["display","verticalAlign","marginTop","marginRight","marginBottom","marginLeft"],innerElementStyles:{marginTop:0,marginRight:0,marginBottom:0,marginLeft:0}},states:{shown:{className:"hideShowPassword-shown",changeEvent:"passwordShown",props:{type:"text"},toggle:{className:"hideShowPassword-toggle-hide",content:"Hide",attr:{tabindex:"-1","aria-pressed":"true",title:"Hide password"}}},hidden:{className:"hideShowPassword-hidden",changeEvent:"passwordHidden",props:{type:"password"},toggle:{className:"hideShowPassword-toggle-show",content:"Show",attr:{tabindex:"-1","aria-pressed":"false",title:"Show password"}}}}}})),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window).base64js=e()}}((function(){return function e(t,s,i){function a(_,n){if(!s[_]){if(!t[_]){var o="function"==typeof require&&require;if(!n&&o)return o(_,!0);if(r)return r(_,!0);var c=new Error("Cannot find module '"+_+"'");throw c.code="MODULE_NOT_FOUND",c}var d=s[_]={exports:{}};t[_][0].call(d.exports,(function(e){return a(t[_][1][e]||e)}),d,d.exports,e,t,s,i)}return s[_].exports}for(var r="function"==typeof require&&require,_=0;_<i.length;_++)a(i[_]);return a}({"/":[function(e,t,s){"use strict";function i(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var s=e.indexOf("=");return-1===s&&(s=t),[s,s===t?0:4-s%4]}function a(e){return _[63&e>>18]+_[63&e>>12]+_[63&e>>6]+_[63&e]}function r(e,t,s){for(var i,r=[],_=t;_<s;_+=3)i=(16711680&e[_]<<16)+(65280&e[_+1]<<8)+(255&e[_+2]),r.push(a(i));return r.join("")}s.byteLength=function(e){var t=i(e),s=t[0],a=t[1];return 3*(s+a)/4-a},s.toByteArray=function(e){var t,s,a=i(e),r=a[0],_=a[1],c=new o(function(e,t,s){return 3*(t+s)/4-s}(0,r,_)),d=0,l=0<_?r-4:r;for(s=0;s<l;s+=4)t=n[e.charCodeAt(s)]<<18|n[e.charCodeAt(s+1)]<<12|n[e.charCodeAt(s+2)]<<6|n[e.charCodeAt(s+3)],c[d++]=255&t>>16,c[d++]=255&t>>8,c[d++]=255&t;return 2===_&&(t=n[e.charCodeAt(s)]<<2|n[e.charCodeAt(s+1)]>>4,c[d++]=255&t),1===_&&(t=n[e.charCodeAt(s)]<<10|n[e.charCodeAt(s+1)]<<4|n[e.charCodeAt(s+2)]>>2,c[d++]=255&t>>8,c[d++]=255&t),c},s.fromByteArray=function(e){for(var t,s=e.length,i=s%3,a=[],n=16383,o=0,c=s-i;o<c;o+=n)a.push(r(e,o,o+n>c?c:o+n));return 1===i?(t=e[s-1],a.push(_[t>>2]+_[63&t<<4]+"==")):2===i&&(t=(e[s-2]<<8)+e[s-1],a.push(_[t>>10]+_[63&t>>4]+_[63&t<<2]+"=")),a.join("")};for(var _=[],n=[],o="undefined"==typeof Uint8Array?Array:Uint8Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,l=c.length;d<l;++d)_[d]=c[d],n[c.charCodeAt(d)]=d;n[45]=62,n[95]=63},{}]},{},[])("/")}));var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,s,i,a,r,_,n,o="",c=0;for(e=Base64._utf8_encode(e);c<e.length;)a=(t=e.charCodeAt(c++))>>2,r=(3&t)<<4|(s=e.charCodeAt(c++))>>4,_=(15&s)<<2|(i=e.charCodeAt(c++))>>6,n=63&i,isNaN(s)?_=n=64:isNaN(i)&&(n=64),o=o+this._keyStr.charAt(a)+this._keyStr.charAt(r)+this._keyStr.charAt(_)+this._keyStr.charAt(n);return o},decode:function(e){var t,s,i,a,r,_,n="",o=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");o<e.length;)t=this._keyStr.indexOf(e.charAt(o++))<<2|(a=this._keyStr.indexOf(e.charAt(o++)))>>4,s=(15&a)<<4|(r=this._keyStr.indexOf(e.charAt(o++)))>>2,i=(3&r)<<6|(_=this._keyStr.indexOf(e.charAt(o++))),n+=String.fromCharCode(t),64!=r&&(n+=String.fromCharCode(s)),64!=_&&(n+=String.fromCharCode(i));return n=Base64._utf8_decode(n)},_utf8_encode:function(e){var t="";e=e.replace(/\r\n/g,"\n");for(var s=0;s<e.length;s++){var i=e.charCodeAt(s);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},_utf8_decode:function(e){var t,s,i,a="",r=0;for(t=s=0;r<e.length;)(t=e.charCodeAt(r))<128?(a+=String.fromCharCode(t),r++):t>191&&t<224?(s=e.charCodeAt(r+1),a+=String.fromCharCode((31&t)<<6|63&s),r+=2):(s=e.charCodeAt(r+1),i=e.charCodeAt(r+2),a+=String.fromCharCode((15&t)<<12|(63&s)<<6|63&i),r+=3);return a}};
